{"version":3,"file":"865-bdaf39bda447ef86acee.js","mappings":"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","sources":["webpack://voronoi-shopping/./node_modules/core-js/internals/get-substitution.js","webpack://voronoi-shopping/./node_modules/core-js/modules/es.array.flat.js","webpack://voronoi-shopping/./node_modules/core-js/modules/es.array.unscopables.flat.js","webpack://voronoi-shopping/./node_modules/core-js/modules/es.math.hypot.js","webpack://voronoi-shopping/./node_modules/core-js/modules/es.string.replace-all.js","webpack://voronoi-shopping/./node_modules/core-js/modules/esnext.string.replace-all.js","webpack://voronoi-shopping/./src/common/constants/paths.ts","webpack://voronoi-shopping/./src/common/utility/get-image.ts","webpack://voronoi-shopping/./node_modules/@react-hook/latest/dist/module/index.js","webpack://voronoi-shopping/./node_modules/@react-hook/window-size/node_modules/@react-hook/debounce/dist/module/index.js","webpack://voronoi-shopping/./node_modules/@react-hook/event/dist/module/index.js","webpack://voronoi-shopping/./node_modules/@react-hook/window-size/dist/module/index.js","webpack://voronoi-shopping/./node_modules/d3-random/src/normal.js","webpack://voronoi-shopping/./node_modules/d3-random/src/defaultSource.js","webpack://voronoi-shopping/./src/common/hooks/use-jitter-grid.tsx","webpack://voronoi-shopping/./node_modules/d3-selection/src/selector.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/array.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selectorAll.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/matcher.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/selectChild.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/selectChildren.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/sparse.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/enter.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/constant.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/data.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/sort.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/size.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/namespaces.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/namespace.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/attr.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/window.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/style.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/property.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/classed.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/text.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/html.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/raise.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/lower.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/creator.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/insert.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/remove.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/clone.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/on.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/dispatch.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/iterator.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/index.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/select.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/selectAll.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/filter.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/exit.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/join.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/merge.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/order.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/call.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/nodes.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/node.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/empty.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/each.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/append.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/selection/datum.js","webpack://voronoi-shopping/./node_modules/d3-selection/src/select.js","webpack://voronoi-shopping/./src/features/viz/Voronoi/helpers/adjust-annotation.ts","webpack://voronoi-shopping/./src/features/viz/Voronoi/helpers/draw-cell.ts","webpack://voronoi-shopping/./src/features/viz/Voronoi/helpers/draw-voronoi.ts","webpack://voronoi-shopping/./src/features/viz/Voronoi/helpers/voronoi-actions.tsx","webpack://voronoi-shopping/./node_modules/robust-predicates/esm/util.js","webpack://voronoi-shopping/./node_modules/robust-predicates/esm/orient2d.js","webpack://voronoi-shopping/./node_modules/robust-predicates/esm/orient3d.js","webpack://voronoi-shopping/./node_modules/robust-predicates/esm/incircle.js","webpack://voronoi-shopping/./node_modules/robust-predicates/esm/insphere.js","webpack://voronoi-shopping/./node_modules/delaunator/index.js","webpack://voronoi-shopping/./node_modules/d3-delaunay/src/path.js","webpack://voronoi-shopping/./node_modules/d3-delaunay/src/polygon.js","webpack://voronoi-shopping/./node_modules/d3-delaunay/src/voronoi.js","webpack://voronoi-shopping/./node_modules/d3-delaunay/src/delaunay.js","webpack://voronoi-shopping/./src/features/viz/Voronoi/use-voronoi-model.ts","webpack://voronoi-shopping/./src/features/viz/Voronoi/VoronoiChart.tsx","webpack://voronoi-shopping/./src/features/viz/Voronoi/VoronoiContainer.tsx","webpack://voronoi-shopping/./src/features/projects/use-projects-chart-data.ts","webpack://voronoi-shopping/./src/features/projects/ProjectsMap.tsx"],"sourcesContent":["var uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar floor = Math.floor;\nvar charAt = uncurryThis(''.charAt);\nvar replace = uncurryThis(''.replace);\nvar stringSlice = uncurryThis(''.slice);\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d{1,2}|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d{1,2})/g;\n\n// `GetSubstitution` abstract operation\n// https://tc39.es/ecma262/#sec-getsubstitution\nmodule.exports = function (matched, str, position, captures, namedCaptures, replacement) {\n  var tailPos = position + matched.length;\n  var m = captures.length;\n  var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n  if (namedCaptures !== undefined) {\n    namedCaptures = toObject(namedCaptures);\n    symbols = SUBSTITUTION_SYMBOLS;\n  }\n  return replace(replacement, symbols, function (match, ch) {\n    var capture;\n    switch (charAt(ch, 0)) {\n      case '$': return '$';\n      case '&': return matched;\n      case '`': return stringSlice(str, 0, position);\n      case \"'\": return stringSlice(str, tailPos);\n      case '<':\n        capture = namedCaptures[stringSlice(ch, 1, -1)];\n        break;\n      default: // \\d\\d?\n        var n = +ch;\n        if (n === 0) return match;\n        if (n > m) {\n          var f = floor(n / 10);\n          if (f === 0) return match;\n          if (f <= m) return captures[f - 1] === undefined ? charAt(ch, 1) : captures[f - 1] + charAt(ch, 1);\n          return match;\n        }\n        capture = captures[n - 1];\n    }\n    return capture === undefined ? '' : capture;\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar flattenIntoArray = require('../internals/flatten-into-array');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\n// `Array.prototype.flat` method\n// https://tc39.es/ecma262/#sec-array.prototype.flat\n$({ target: 'Array', proto: true }, {\n  flat: function flat(/* depthArg = 1 */) {\n    var depthArg = arguments.length ? arguments[0] : undefined;\n    var O = toObject(this);\n    var sourceLen = lengthOfArrayLike(O);\n    var A = arraySpeciesCreate(O, 0);\n    A.length = flattenIntoArray(A, O, O, sourceLen, 0, depthArg === undefined ? 1 : toIntegerOrInfinity(depthArg));\n    return A;\n  }\n});\n","// this method was added to unscopables after implementation\n// in popular engines, so it's moved to a separate module\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('flat');\n","var $ = require('../internals/export');\n\n// eslint-disable-next-line es-x/no-math-hypot -- required for testing\nvar $hypot = Math.hypot;\nvar abs = Math.abs;\nvar sqrt = Math.sqrt;\n\n// Chrome 77 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=9546\nvar BUGGY = !!$hypot && $hypot(Infinity, NaN) !== Infinity;\n\n// `Math.hypot` method\n// https://tc39.es/ecma262/#sec-math.hypot\n$({ target: 'Math', stat: true, arity: 2, forced: BUGGY }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  hypot: function hypot(value1, value2) {\n    var sum = 0;\n    var i = 0;\n    var aLen = arguments.length;\n    var larg = 0;\n    var arg, div;\n    while (i < aLen) {\n      arg = abs(arguments[i++]);\n      if (larg < arg) {\n        div = larg / arg;\n        sum = sum * div * div + 1;\n        larg = arg;\n      } else if (arg > 0) {\n        div = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * sqrt(sum);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar isCallable = require('../internals/is-callable');\nvar isRegExp = require('../internals/is-regexp');\nvar toString = require('../internals/to-string');\nvar getMethod = require('../internals/get-method');\nvar getRegExpFlags = require('../internals/regexp-get-flags');\nvar getSubstitution = require('../internals/get-substitution');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar REPLACE = wellKnownSymbol('replace');\nvar $TypeError = TypeError;\nvar indexOf = uncurryThis(''.indexOf);\nvar replace = uncurryThis(''.replace);\nvar stringSlice = uncurryThis(''.slice);\nvar max = Math.max;\n\nvar stringIndexOf = function (string, searchValue, fromIndex) {\n  if (fromIndex > string.length) return -1;\n  if (searchValue === '') return fromIndex;\n  return indexOf(string, searchValue, fromIndex);\n};\n\n// `String.prototype.replaceAll` method\n// https://tc39.es/ecma262/#sec-string.prototype.replaceall\n$({ target: 'String', proto: true }, {\n  replaceAll: function replaceAll(searchValue, replaceValue) {\n    var O = requireObjectCoercible(this);\n    var IS_REG_EXP, flags, replacer, string, searchString, functionalReplace, searchLength, advanceBy, replacement;\n    var position = 0;\n    var endOfLastMatch = 0;\n    var result = '';\n    if (searchValue != null) {\n      IS_REG_EXP = isRegExp(searchValue);\n      if (IS_REG_EXP) {\n        flags = toString(requireObjectCoercible(getRegExpFlags(searchValue)));\n        if (!~indexOf(flags, 'g')) throw $TypeError('`.replaceAll` does not allow non-global regexes');\n      }\n      replacer = getMethod(searchValue, REPLACE);\n      if (replacer) {\n        return call(replacer, searchValue, O, replaceValue);\n      } else if (IS_PURE && IS_REG_EXP) {\n        return replace(toString(O), searchValue, replaceValue);\n      }\n    }\n    string = toString(O);\n    searchString = toString(searchValue);\n    functionalReplace = isCallable(replaceValue);\n    if (!functionalReplace) replaceValue = toString(replaceValue);\n    searchLength = searchString.length;\n    advanceBy = max(1, searchLength);\n    position = stringIndexOf(string, searchString, 0);\n    while (position !== -1) {\n      replacement = functionalReplace\n        ? toString(replaceValue(searchString, position, string))\n        : getSubstitution(searchString, string, position, [], undefined, replaceValue);\n      result += stringSlice(string, endOfLastMatch, position) + replacement;\n      endOfLastMatch = position + searchLength;\n      position = stringIndexOf(string, searchString, position + advanceBy);\n    }\n    if (endOfLastMatch < string.length) {\n      result += stringSlice(string, endOfLastMatch);\n    }\n    return result;\n  }\n});\n","// TODO: Remove from `core-js@4`\nrequire('../modules/es.string.replace-all');\n","export const PATH = {\n  HOME: '/',\n  PRODUCT: '/product',\n  PROJECTS: '/projects'\n} as const\n","import { IGatsbyImageData } from 'gatsby-plugin-image'\n\ntype DeepMaybe<T> = T extends object\n  ? {\n      [P in keyof T]?: P extends 'gatsbyImageData' ? IGatsbyImageData : DeepMaybe<T[P]> | null\n    }\n  : T\n\ntype StrapiMedia = DeepMaybe<Queries.STRAPI__MEDIA> | null\n\nexport const getStrapiImage = <T extends StrapiMedia = StrapiMedia>(queryImage: T) =>\n  queryImage?.localFile?.childImageSharp?.gatsbyImageData\n","import * as React from 'react';\n\nvar useLatest = function useLatest(current) {\n  var storedValue = React.useRef(current);\n  React.useEffect(function () {\n    storedValue.current = current;\n  });\n  return storedValue;\n};\n\nexport default useLatest;","import * as React from 'react';\nimport useLatest from '@react-hook/latest';\nexport var useDebounceCallback = function useDebounceCallback(callback) {\n  var wait = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100;\n  var leading = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var storedCallback = useLatest(callback);\n  var timeout = React.useRef();\n  var deps = [wait, leading, storedCallback]; // Cleans up pending timeouts when the deps change\n\n  function _ref() {\n    timeout.current && clearTimeout(timeout.current);\n    timeout.current = void 0;\n  }\n\n  React.useEffect(function () {\n    return _ref;\n  }, deps);\n\n  function _ref2() {\n    timeout.current = void 0;\n  }\n\n  return React.useCallback(function () {\n    // eslint-disable-next-line prefer-rest-params\n    var args = arguments;\n    var current = timeout.current; // Calls on leading edge\n\n    if (current === void 0 && leading) {\n      timeout.current = setTimeout(_ref2, wait); // eslint-disable-next-line prefer-spread\n\n      return storedCallback.current.apply(null, args);\n    } // Clear the timeout every call and start waiting again\n\n\n    current && clearTimeout(current); // Waits for `wait` before invoking the callback\n\n    timeout.current = setTimeout(function () {\n      timeout.current = void 0;\n      storedCallback.current.apply(null, args);\n    }, wait);\n  }, deps);\n};\nexport var useDebounce = function useDebounce(initialState, wait, leading) {\n  var state = React.useState(initialState);\n  return [state[0], useDebounceCallback(state[1], wait, leading)];\n};","import * as React from 'react';\n\nfunction useEvent(target, type, listener, cleanup) {\n  var storedListener = React.useRef(listener);\n  var storedCleanup = React.useRef(cleanup);\n  React.useEffect(function () {\n    storedListener.current = listener;\n    storedCleanup.current = cleanup;\n  });\n  React.useEffect(function () {\n    var targetEl = target && 'current' in target ? target.current : target;\n    if (!targetEl) return;\n    var didUnsubscribe = 0;\n\n    function listener() {\n      if (didUnsubscribe) return;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      storedListener.current.apply(this, args);\n    }\n\n    targetEl.addEventListener(type, listener);\n    var cleanup = storedCleanup.current;\n    return function () {\n      didUnsubscribe = 1;\n      targetEl.removeEventListener(type, listener);\n      cleanup && cleanup();\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [target, type]);\n}\n\nexport default useEvent;","import _slicedToArray from \"/Users/baumzeit/Code/voronoi-shopping/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { useDebounce } from '@react-hook/debounce';\nimport useEvent from '@react-hook/event';\nvar emptyObj = {};\nvar win = typeof window === 'undefined' ? null : window;\n\nvar getSize = function getSize() {\n  return [document.documentElement.clientWidth, document.documentElement.clientHeight];\n};\n\nexport var useWindowSize = function useWindowSize() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : emptyObj;\n  var wait = options.wait,\n      leading = options.leading,\n      _options$initialWidth = options.initialWidth,\n      initialWidth = _options$initialWidth === void 0 ? 0 : _options$initialWidth,\n      _options$initialHeigh = options.initialHeight,\n      initialHeight = _options$initialHeigh === void 0 ? 0 : _options$initialHeigh;\n\n  var _useDebounce = useDebounce(\n  /* istanbul ignore next */\n  typeof document === 'undefined' ? [initialWidth, initialHeight] : getSize, wait, leading),\n      _useDebounce2 = _slicedToArray(_useDebounce, 2),\n      size = _useDebounce2[0],\n      setDebouncedSize = _useDebounce2[1];\n\n  var setSize = function setSize() {\n    return setDebouncedSize(getSize);\n  };\n\n  useEvent(win, 'resize', setSize);\n  useEvent(win, 'orientationchange', setSize);\n  return size;\n};\nexport var useWindowHeight = function useWindowHeight(options) {\n  return useWindowSize(options)[1];\n};\nexport var useWindowWidth = function useWindowWidth(options) {\n  return useWindowSize(options)[0];\n};","import defaultSource from \"./defaultSource.js\";\nexport default (function sourceRandomNormal(source) {\n  function randomNormal(mu, sigma) {\n    var x, r;\n    mu = mu == null ? 0 : +mu;\n    sigma = sigma == null ? 1 : +sigma;\n    return function () {\n      var y; // If available, use the second previously-generated uniform random.\n\n      if (x != null) y = x, x = null; // Otherwise, generate a new x and y.\n      else do {\n        x = source() * 2 - 1;\n        y = source() * 2 - 1;\n        r = x * x + y * y;\n      } while (!r || r > 1);\n      return mu + sigma * y * Math.sqrt(-2 * Math.log(r) / r);\n    };\n  }\n\n  randomNormal.source = sourceRandomNormal;\n  return randomNormal;\n})(defaultSource);","export default Math.random;","import { randomNormal } from 'd3-random'\nimport { useCallback, useMemo } from 'react'\n\ntype UseJitterGridProps = {\n  minItems: number\n  width: number\n  minHeight: number\n  minTilePixels?: number\n  relMargin: {\n    top: number\n    right: number\n    bottom: number\n    left: number\n  }\n  colJitter?: number\n}\n\nexport type GridCoordinate = [x: number, y: number]\ntype GridPositions = GridCoordinate[]\n\ntype AxisSpecs = {\n  positions: number[]\n  interval: number\n}\n\ntype GridSpecs = {\n  grid: GridPositions\n  numCols: number\n  numRows: number\n  height: number\n  width: number\n}\n\nexport type UseJitterGridReturn = {\n  gridSpecs?: {\n    grid: GridPositions\n    numCols: number\n    numRows: number\n    height: number\n    width: number\n  }\n  getGridCoordinates?: (idx: number) => GridCoordinate\n}\n\nexport const useJitterGrid = ({\n  minItems,\n  width,\n  minHeight,\n  relMargin,\n  minTilePixels,\n  colJitter = 0\n}: UseJitterGridProps): UseJitterGridReturn => {\n  const gridData = useMemo(() => {\n    try {\n      if (width && minHeight) {\n        const pixels = width * minHeight\n        const pixelsPerItem = pixels / minItems\n        const height = minTilePixels && pixelsPerItem < minTilePixels ? (minItems * minTilePixels) / width : minHeight\n\n        const defaultSize = Math.sqrt(minItems)\n        const aspect = width && height && Math.min(width / height, 1.5)\n\n        const aspectFactor = {\n          x: aspect > 1 ? aspect : 1,\n          y: aspect < 1 ? 1 / aspect : 1\n        }\n        const virtualColumns = aspect ? defaultSize * aspectFactor.x : defaultSize\n        const virtualRows = aspect ? defaultSize * aspectFactor.y : defaultSize\n\n        const safeRows = Math.ceil(virtualRows)\n        const safeColumns = Math.ceil(virtualColumns)\n\n        const refCols = safeColumns * safeColumns - minItems >= safeColumns ? safeColumns - 1 : safeColumns\n        const refRows = safeRows - Math.floor((safeRows * refCols - minItems) / refCols)\n\n        const minMarginY = 30\n        const minMarginX = 60\n\n        const marginTop = Math.max(height * relMargin.top, minMarginY)\n        const marginBottom = Math.max(height * relMargin.bottom, minMarginY)\n        const marginRight = Math.max(width * relMargin.right, minMarginX)\n        const marginLeft = Math.max(width * relMargin.left, minMarginX)\n\n        const getNoise = (unitSize: number, jitter: number) => unitSize * randomNormal(0, jitter)()\n\n        const getColSpecs = (items: number): AxisSpecs => {\n          const colWidth = (width - (marginLeft + marginRight)) / Math.max(items - 1, 1)\n          const colDiff = Math.max(refCols - items, 0)\n          const offset = colDiff ? (0.5 * (colWidth * colDiff)) / refCols : 0\n          const adjustedColWidth = colDiff ? (colWidth * items) / refCols : colWidth\n          return {\n            positions: Array.from({ length: items }, (_, idx) => marginLeft + offset + adjustedColWidth * idx),\n            interval: colWidth\n          }\n        }\n        const getRowSpecs = (rows: number): AxisSpecs => {\n          const rowHeight = (height - (marginTop + marginBottom)) / Math.max(rows - 1, 1)\n          return {\n            positions: Array.from({ length: rows }, (_, idx) => marginTop + rowHeight * idx),\n            interval: rowHeight\n          }\n        }\n\n        const numOrphans = minItems % refCols\n        const adoptedOrphans = numOrphans === 1 ? 1 : 0\n        const getRowJitter = (idx: number) => (height * (idx % 2) ? height * 0.02 : height * -0.02)\n\n        const getCoordinates = (colSpecs: AxisSpecs, rowSpecs: AxisSpecs, rowIdx: number): GridCoordinate[] => {\n          const { positions: colPos, interval: colSize } = colSpecs\n          const { positions: rowPos } = rowSpecs\n\n          return Array.from({ length: colPos.length }).map((_, idx) => {\n            return [\n              colPos[idx] + getNoise(colSize, colJitter),\n              rowPos[rowIdx] + getRowJitter(idx) //+ getNoise(rowSize, 0.01)\n            ]\n          })\n        }\n\n        const actualRows = numOrphans > 0 && adoptedOrphans === numOrphans ? refRows - 1 : refRows\n\n        const rowSpecs = getRowSpecs(actualRows)\n\n        const gridPositions: GridPositions = Array.from({ length: refRows })\n          .map((_, rowIdx) => {\n            const adoptionRowIdx = rowIdx === 1\n            const isLastRow = rowIdx === refRows - 1\n            const regularRow = !numOrphans || !(isLastRow || adoptionRowIdx)\n\n            const actualCols = regularRow\n              ? refCols\n              : adoptionRowIdx\n              ? adoptedOrphans //\n                ? refCols + adoptedOrphans\n                : refCols\n              : isLastRow\n              ? adoptedOrphans //\n                ? numOrphans - adoptedOrphans\n                : numOrphans\n              : refCols\n\n            const colSpecs = getColSpecs(actualCols)\n\n            return getCoordinates(colSpecs, rowSpecs, rowIdx)\n          })\n          .flat()\n\n        return { grid: gridPositions, numCols: refCols, numRows: refRows, height: height, width: width }\n      }\n    } catch (err) {\n      console.error(err)\n      return undefined\n    }\n  }, [\n    width,\n    minHeight,\n    minItems,\n    minTilePixels,\n    relMargin.top,\n    relMargin.bottom,\n    relMargin.right,\n    relMargin.left,\n    colJitter\n  ])\n\n  const getGridCoordinates = useCallback(\n    (gridData: GridSpecs) =>\n      (idx: number): GridCoordinate => {\n        return gridData.grid[idx]\n      },\n    []\n  )\n\n  return { getGridCoordinates: gridData ? getGridCoordinates(gridData) : undefined, gridSpecs: gridData }\n}\n","function none() {}\n\nexport default function (selector) {\n  return selector == null ? none : function () {\n    return this.querySelector(selector);\n  };\n}","// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we don’t ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}","function empty() {\n  return [];\n}\n\nexport default function (selector) {\n  return selector == null ? empty : function () {\n    return this.querySelectorAll(selector);\n  };\n}","export default function (selector) {\n  return function () {\n    return this.matches(selector);\n  };\n}\nexport function childMatcher(selector) {\n  return function (node) {\n    return node.matches(selector);\n  };\n}","import { childMatcher } from \"../matcher.js\";\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function () {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function (match) {\n  return this.select(match == null ? childFirst : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}","import { childMatcher } from \"../matcher.js\";\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function () {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function (match) {\n  return this.selectAll(match == null ? children : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}","export default function (update) {\n  return new Array(update.length);\n}","import sparse from \"./sparse.js\";\nimport { Selection } from \"./index.js\";\nexport default function () {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function appendChild(child) {\n    return this._parent.insertBefore(child, this._next);\n  },\n  insertBefore: function insertBefore(child, next) {\n    return this._parent.insertBefore(child, next);\n  },\n  querySelector: function querySelector(selector) {\n    return this._parent.querySelector(selector);\n  },\n  querySelectorAll: function querySelectorAll(selector) {\n    return this._parent.querySelectorAll(selector);\n  }\n};","export default function (x) {\n  return function () {\n    return x;\n  };\n}","import { Selection } from \"./index.js\";\nimport { EnterNode } from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length; // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  } // Put any non-null nodes that don’t fit into exit.\n\n\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map(),\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue; // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  } // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n\n\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  } // Add any remaining nodes that were not bound to data to exit.\n\n\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && nodeByKeyValue.get(keyValues[i]) === node) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function (value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key); // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength) {\n          ;\n        }\n\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n} // Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isn’t worried about “live” collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// don’t; we’d rather avoid a gratuitous copy.)\n\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data ? data // Array, TypedArray, NodeList, array-like\n  : Array.from(data); // Map, Set, iterable, string, or anything else\n}","import { Selection } from \"./index.js\";\nexport default function (compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}","function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nexport default function () {\n  var size = 0;\n\n  var _iterator = _createForOfIteratorHelper(this),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var node = _step.value;\n      ++size;\n    } // eslint-disable-line no-unused-vars\n\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return size;\n}","export var xhtml = \"http://www.w3.org/1999/xhtml\";\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};","import namespaces from \"./namespaces.js\";\nexport default function (name) {\n  var prefix = name += \"\",\n      i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {\n    space: namespaces[prefix],\n    local: name\n  } : name; // eslint-disable-line no-prototype-builtins\n}","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function () {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function () {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function () {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function () {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function () {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function () {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function (name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local ? node.getAttributeNS(fullname.space, fullname.local) : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null ? fullname.local ? attrRemoveNS : attrRemove : typeof value === \"function\" ? fullname.local ? attrFunctionNS : attrFunction : fullname.local ? attrConstantNS : attrConstant)(fullname, value));\n}","export default function (node) {\n  return node.ownerDocument && node.ownerDocument.defaultView // node is a Node\n  || node.document && node // node is a Window\n  || node.defaultView; // node is a Document\n}","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function () {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function () {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function () {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function (name, value, priority) {\n  return arguments.length > 1 ? this.each((value == null ? styleRemove : typeof value === \"function\" ? styleFunction : styleConstant)(name, value, priority == null ? \"\" : priority)) : styleValue(this.node(), name);\n}\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name) || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}","function propertyRemove(name) {\n  return function () {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function () {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function () {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];else this[name] = v;\n  };\n}\n\nexport default function (name, value) {\n  return arguments.length > 1 ? this.each((value == null ? propertyRemove : typeof value === \"function\" ? propertyFunction : propertyConstant)(name, value)) : this.node()[name];\n}","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function add(name) {\n    var i = this._names.indexOf(name);\n\n    if (i < 0) {\n      this._names.push(name);\n\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function remove(name) {\n    var i = this._names.indexOf(name);\n\n    if (i >= 0) {\n      this._names.splice(i, 1);\n\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function contains(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node),\n      i = -1,\n      n = names.length;\n\n  while (++i < n) {\n    list.add(names[i]);\n  }\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node),\n      i = -1,\n      n = names.length;\n\n  while (++i < n) {\n    list.remove(names[i]);\n  }\n}\n\nfunction classedTrue(names) {\n  return function () {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function () {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function () {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function (name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()),\n        i = -1,\n        n = names.length;\n\n    while (++i < n) {\n      if (!list.contains(names[i])) return false;\n    }\n\n    return true;\n  }\n\n  return this.each((typeof value === \"function\" ? classedFunction : value ? classedTrue : classedFalse)(names, value));\n}","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function () {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function () {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function (value) {\n  return arguments.length ? this.each(value == null ? textRemove : (typeof value === \"function\" ? textFunction : textConstant)(value)) : this.node().textContent;\n}","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function () {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function () {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function (value) {\n  return arguments.length ? this.each(value == null ? htmlRemove : (typeof value === \"function\" ? htmlFunction : htmlConstant)(value)) : this.node().innerHTML;\n}","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function () {\n  return this.each(raise);\n}","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function () {\n  return this.each(lower);\n}","import namespace from \"./namespace.js\";\nimport { xhtml } from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function () {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml ? document.createElement(name) : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function () {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function (name) {\n  var fullname = namespace(name);\n  return (fullname.local ? creatorFixed : creatorInherit)(fullname);\n}","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function (name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function () {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function () {\n  return this.each(remove);\n}","function selection_cloneShallow() {\n  var clone = this.cloneNode(false),\n      parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true),\n      parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function (deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}","function contextListener(listener) {\n  return function (event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function (t) {\n    var name = \"\",\n        i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {\n      type: t,\n      name: name\n    };\n  });\n}\n\nfunction onRemove(typename) {\n  return function () {\n    var on = this.__on;\n    if (!on) return;\n\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n\n    if (++i) on.length = i;else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function () {\n    var on = this.__on,\n        o,\n        listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {\n      type: typename.type,\n      name: typename.name,\n      value: value,\n      listener: listener,\n      options: options\n    };\n    if (!on) this.__on = [o];else on.push(o);\n  };\n}\n\nexport default function (typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"),\n      i,\n      n = typenames.length,\n      t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n\n  for (i = 0; i < n; ++i) {\n    this.each(on(typenames[i], value, options));\n  }\n\n  return this;\n}","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function () {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function () {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function (type, params) {\n  return this.each((typeof params === \"function\" ? dispatchFunction : dispatchConstant)(type, params));\n}","import _regeneratorRuntime from \"/Users/baumzeit/Code/voronoi-shopping/frontend/node_modules/@babel/runtime/regenerator/index.js\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(_callee);\n\nexport default function _callee() {\n  var groups, j, m, group, i, n, node;\n  return _regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          groups = this._groups, j = 0, m = groups.length;\n\n        case 1:\n          if (!(j < m)) {\n            _context.next = 13;\n            break;\n          }\n\n          group = groups[j], i = 0, n = group.length;\n\n        case 3:\n          if (!(i < n)) {\n            _context.next = 10;\n            break;\n          }\n\n          if (!(node = group[i])) {\n            _context.next = 7;\n            break;\n          }\n\n          _context.next = 7;\n          return node;\n\n        case 7:\n          ++i;\n          _context.next = 3;\n          break;\n\n        case 10:\n          ++j;\n          _context.next = 1;\n          break;\n\n        case 13:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, this);\n}","import _defineProperty from \"/Users/baumzeit/Code/voronoi-shopping/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\nexport var root = [null];\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = _defineProperty({\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n}, Symbol.iterator, selection_iterator);\nexport default selection;","import { Selection } from \"./index.js\";\nimport selector from \"../selector.js\";\nexport default function (select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}","import { Selection } from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function () {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function (select) {\n  if (typeof select === \"function\") select = arrayAll(select);else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}","import { Selection } from \"./index.js\";\nimport matcher from \"../matcher.js\";\nexport default function (match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}","import sparse from \"./sparse.js\";\nimport { Selection } from \"./index.js\";\nexport default function () {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}","export default function (onenter, onupdate, onexit) {\n  var enter = this.enter(),\n      update = this,\n      exit = this.exit();\n\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n\n  if (onexit == null) exit.remove();else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}","import { Selection } from \"./index.js\";\nexport default function (context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}","export default function () {\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}","export default function () {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}","export default function () {\n  return Array.from(this);\n}","export default function () {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}","export default function () {\n  return !this.node();\n}","export default function (callback) {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}","import creator from \"../creator.js\";\nexport default function (name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function () {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}","export default function (value) {\n  return arguments.length ? this.property(\"__data__\", value) : this.node().__data__;\n}","import { Selection, root } from \"./selection/index.js\";\nexport default function (selector) {\n  return typeof selector === \"string\" ? new Selection([[document.querySelector(selector)]], [document.documentElement]) : new Selection([[selector]], root);\n}","import { select, selectAll } from 'd3-selection'\n\nimport { LABEL_OFFSET_Y } from './draw-cell'\nimport { EnrichedDatum } from './draw-voronoi'\n\nexport function adjustLabelBox(d: EnrichedDatum, cell: SVGGElement, selector: string) {\n  const cellSelection = select(cell)\n  const node = cellSelection.select<SVGTextElement>(selector)?.node()\n  const boxId = `box-${selector.replaceAll('.', '')}`\n  if (cellSelection) {\n    cellSelection\n      .selectAll(`.label-box.${boxId}`)\n      .data((d) => [d])\n      .join('rect')\n      .attr('tabindex', 10 + d.index)\n      .classed(`label-box ${boxId}`, true)\n  }\n\n  const box = node?.getBBox()\n\n  if (box) {\n    const paddingX = 9\n    const paddingY = 5\n    const boxStart = box.x - paddingX\n    const boxWidth = box.width + paddingX * 2\n    const boxHeight = box.height + paddingY * 2\n\n    cellSelection\n      .select(`.${boxId}`)\n      .attr('rx', 2)\n      .attr('x', boxStart)\n      .attr('y', box.y - paddingY)\n      .attr('width', boxWidth)\n      .attr('height', boxHeight)\n      .lower()\n  }\n}\n\nexport function adjustLabel(d: EnrichedDatum, cell: SVGGElement, width: number) {\n  select(cell)\n    .selectAll('.label')\n    .attr('x', () => {\n      const titleSpace = (Math.max(d.title.length, d.price.length) / 2) * 7 + 22\n      const min = titleSpace\n      const max = width - titleSpace\n      return Math.min(Math.max(d.x, min), max)\n    })\n    .attr('y', d.y)\n}\n","import { EnterElement, select, Selection } from 'd3-selection'\n\nimport { adjustLabel, adjustLabelBox } from './adjust-annotation'\nimport { EnrichedDatum } from './draw-voronoi'\n\nexport function drawCell(selection: Selection<EnterElement, EnrichedDatum, SVGSVGElement, unknown>, imageSize: number) {\n  const cell = selection\n    .append('g')\n    // .attr('clip-path', (d) => `url(#clip-${d.id})`)\n    .each(function (d) {\n      select(this).classed(`cell id-${d.id}`, true)\n    })\n    .style('transform-origin', (d) => `${d.x}px ${d.y}px`)\n\n  const base = cell\n    .append('g')\n    .classed('base', true)\n    .attr('clip-path', (d) => `url(#clip-${d.id})`)\n\n  base\n    .append('foreignObject')\n    .classed('image-fo', true)\n    .attr('x', (d) => d.x - imageSize / 2)\n    .attr('y', (d) => d.y - imageSize / 2)\n    .attr('width', imageSize)\n    .attr('height', imageSize)\n    .append('xhtml:img')\n    .classed('image', true)\n    .attr('xmlns', 'http://www.w3.org/1999/xhtml')\n    .attr('src', (d) => d.imgSrc || '')\n\n  base\n    .append('path')\n    .attr('d', (d) => d.path)\n    .classed('pattern', true)\n    .attr('fill', 'url(#diagonalHatch)')\n  base\n    .append('path')\n    .attr('d', (d) => d.path)\n    .classed('highlight-pattern', true)\n  base\n    .append('path')\n    .attr('d', (d) => d.path)\n    .classed('cell-gap', true)\n\n  base\n    .append('path')\n    .attr('d', (d) => d.path)\n    .classed('cell-border', true)\n\n  // annotation layer\n  const annotation = cell.append('g').classed('annotation', true)\n  annotation\n    .append('circle')\n    .attr('cx', (d) => d.x)\n    .attr('cy', (d) => d.y)\n    .attr('r', 3)\n    .attr('tabindex', -1)\n    .classed('focus-dot', true)\n\n  annotation\n    .append('text')\n    .classed('label title', true)\n    .attr('dy', LABEL_OFFSET_Y || null)\n    .text((d) => d.title || '')\n  annotation\n    .append('text')\n    .classed('label price', true)\n    .attr('dy', 30 || null)\n    .text((d) => d.price || '')\n\n  return cell\n}\n\nexport const LABEL_OFFSET_Y = -18\n\nexport function updateCell(\n  selection: Selection<SVGGElement, EnrichedDatum, SVGSVGElement, unknown>,\n  imageSize: number,\n  width: number\n) {\n  selection.style('transform-origin', (d) => `${d.x}px ${d.y}px`)\n\n  const base = selection.select<SVGGElement>('.base')\n  base\n    .select('.image-fo')\n    .attr('x', (d) => d.x - imageSize / 2)\n    .attr('y', (d) => d.y - imageSize / 2)\n    .attr('width', imageSize)\n    .attr('height', imageSize)\n  base.select('.cell-gap').attr('d', (d) => d.path)\n  base.select('.pattern').attr('d', (d) => d.path)\n  base.select('.highlight-pattern').attr('d', (d) => d.path)\n  base.select('.cell-border').attr('d', (d) => d.path)\n\n  const annotation = selection.select<SVGGElement>('.annotation')\n  annotation\n    .select('circle')\n    .attr('cx', (d) => d.x)\n    .attr('cy', (d) => d.y)\n    .attr('y', (d) => d.y)\n  annotation.each(function (d) {\n    adjustLabel(d, this, width)\n    adjustLabelBox(d, this, '.title')\n    adjustLabelBox(d, this, '.price')\n  })\n\n  return selection\n}\n","import { Voronoi } from 'd3-delaunay'\nimport { select, Selection, BaseType } from 'd3-selection'\nimport { FocusEvent } from 'react'\n\nimport { VoronoiChartDatum } from '../../../projects/use-projects-chart-data'\nimport { PointWithPath } from '../use-voronoi-model'\nimport { drawCell, updateCell } from './draw-cell'\nimport { VoronoiOptions } from './voronoi-actions'\n\nexport type EnrichedDatum = VoronoiChartDatum & PointWithPath\n\nexport type VoronoiDrawProps = {\n  svg: Selection<SVGSVGElement, unknown, null, undefined>\n  data: EnrichedDatum[]\n  options: VoronoiOptions\n  voronoi: Voronoi<EnrichedDatum>\n  onHover: (slug: string) => void\n  onClick: (slug: string) => void\n  onMouseLeave: () => void\n}\n\nexport function drawVoronoi({ svg, data, options: opts, voronoi, onHover, onClick, onMouseLeave }: VoronoiDrawProps) {\n  svg\n    .select('defs')\n    .selectAll<d3.BaseType, EnrichedDatum>('clipPath')\n    .data(data, (d) => String(d.id))\n    .join(\n      (enter) => {\n        const defG = enter.append('g').each(function (d) {\n          select(this).classed(`defs-cell`, true)\n        })\n        defG\n          .append('clipPath')\n          .attr('id', (d) => `clip-${d.id}`)\n          .attr('fill', 'white')\n          .append('path')\n          .classed('defs-path', true)\n          .attr('d', (d) => d.path)\n        return defG\n      },\n      (update) => update.select('clipPath path').attr('d', (d) => d.path)\n    )\n\n  drawContentLayer(svg, data, opts)\n\n  svg\n    .selectAll('.bounds')\n    .data([voronoi.renderBounds()])\n    .join('path')\n    .attr('d', (d) => d)\n    .classed('bounds', true)\n\n  svg\n    .selectAll<SVGGElement, EnrichedDatum>('.hover-cell')\n    .data(data, (d) => String(d.id))\n    .join(\n      (enter) => {\n        const cell = enter.append('g').each(function (d) {\n          select(this).classed(`hover-cell`, true)\n        })\n        cell\n          .append('path')\n          .attr('d', (d) => d.path)\n          .attr('fill', 'transparent')\n          .classed('hover-border', true)\n\n        return cell\n      },\n      (update) => {\n        update.select('.hover-border').attr('d', (d) => d.path)\n        return update\n      }\n    )\n\n  svg.on('keyup', (e: KeyboardEvent) => {\n    if (e.code === 'Space') {\n      const activeElement = select<BaseType, EnrichedDatum | null>(document.activeElement)\n      const activeElementSlug = activeElement?.datum()?.slug\n      if (activeElementSlug) {\n        onClick(activeElementSlug)\n      }\n    }\n  })\n\n  svg.selectAll<SVGPathElement, EnrichedDatum>('.hover-border').on('mouseenter', function (e: MouseEvent, d) {\n    if (svg.selectAll('.cell.exposed').empty() && !svg.node()!.contains(document.activeElement)) {\n      onHover(d.slug)\n    }\n  })\n\n  svg.selectAll('.label-box').on('focus', function (e: FocusEvent<SVGElement>) {\n    const datum = select<SVGElement, EnrichedDatum>(e.target).datum()\n    if (!svg.selectAll('.exposed').empty()) {\n      onClick(datum.slug)\n    } else {\n      onHover(datum.slug)\n    }\n  })\n\n  svg.selectAll<SVGGElement, EnrichedDatum>('.hover-cell').on('click', function (e: MouseEvent, d) {\n    e.stopPropagation()\n    const isExposed = select(this).classed('exposed')\n    if (d.slug && !isExposed) {\n      onClick(d.slug)\n    }\n  })\n\n  svg.on('mouseleave', onMouseLeave)\n}\n\nexport function drawContentLayer(\n  sel: Selection<SVGSVGElement, unknown, any, undefined>,\n  data: EnrichedDatum[],\n  options: Pick<VoronoiOptions, 'imageSize' | 'width'>\n) {\n  sel\n    .selectAll<SVGGElement, EnrichedDatum>('.cell')\n    .data(data)\n    .join(\n      (enter) => drawCell(enter, options.imageSize),\n      (update) => updateCell(update, options.imageSize, options.width)\n    )\n}\n","import * as d3 from 'd3-selection'\n\nimport { EnrichedDatum } from './draw-voronoi'\n\nexport type Dimensions = { width: number; height: number }\nexport type Padding = {\n  top: number\n  right: number\n  bottom: number\n  left: number\n}\n\nexport type VoronoiOptions = {\n  height: number\n  width: number\n  imageSize: number\n}\n\nexport type SetExposedCellFn = (id: string | null) => void\n\nexport const restore = (svgNode: SVGSVGElement) => () => {\n  const svg = d3.select(svgNode)\n  if (!svg.classed('expose-view')) {\n    svg.selectAll<SVGPathElement, EnrichedDatum>(`.cell`).classed('hover-selected exposed', false)\n  }\n}\n\nexport const hoverCell = (svgNode: SVGSVGElement) => (hoveredSlug: string) => {\n  const svg = d3.select(svgNode)\n  svg.selectAll<SVGPathElement, EnrichedDatum>(`.cell`).classed('hover-selected', (d) => d.slug === hoveredSlug)\n}\n\nexport const highlightCellsByAreaId = (svgNode: SVGSVGElement) => (highlightId: string | null) => {\n  const svg = d3.select(svgNode)\n  svg.selectAll<SVGGElement, EnrichedDatum>('.cell').each(function (d) {\n    const cellG = d3.select(this)\n    const highlightPath = cellG.select('.highlight-pattern')\n    const shouldHighlight = Boolean(d.areas.find((area) => highlightId && area.id === highlightId))\n\n    if (highlightId && shouldHighlight) {\n      highlightPath.style('fill', `url(#diagonalHatchHighlight-${highlightId})`)\n    }\n\n    cellG.classed('area-highlight', shouldHighlight)\n  })\n  svg.classed('highlight-view', !!highlightId)\n}\n","export var epsilon = 1.1102230246251565e-16;\nexport var splitter = 134217729;\nexport var resulterrbound = (3 + 8 * epsilon) * epsilon; // fast_expansion_sum_zeroelim routine from oritinal code\n\nexport function sum(elen, e, flen, f, h) {\n  var Q, Qnew, hh, bvirt;\n  var enow = e[0];\n  var fnow = f[0];\n  var eindex = 0;\n  var findex = 0;\n\n  if (fnow > enow === fnow > -enow) {\n    Q = enow;\n    enow = e[++eindex];\n  } else {\n    Q = fnow;\n    fnow = f[++findex];\n  }\n\n  var hindex = 0;\n\n  if (eindex < elen && findex < flen) {\n    if (fnow > enow === fnow > -enow) {\n      Qnew = enow + Q;\n      hh = Q - (Qnew - enow);\n      enow = e[++eindex];\n    } else {\n      Qnew = fnow + Q;\n      hh = Q - (Qnew - fnow);\n      fnow = f[++findex];\n    }\n\n    Q = Qnew;\n\n    if (hh !== 0) {\n      h[hindex++] = hh;\n    }\n\n    while (eindex < elen && findex < flen) {\n      if (fnow > enow === fnow > -enow) {\n        Qnew = Q + enow;\n        bvirt = Qnew - Q;\n        hh = Q - (Qnew - bvirt) + (enow - bvirt);\n        enow = e[++eindex];\n      } else {\n        Qnew = Q + fnow;\n        bvirt = Qnew - Q;\n        hh = Q - (Qnew - bvirt) + (fnow - bvirt);\n        fnow = f[++findex];\n      }\n\n      Q = Qnew;\n\n      if (hh !== 0) {\n        h[hindex++] = hh;\n      }\n    }\n  }\n\n  while (eindex < elen) {\n    Qnew = Q + enow;\n    bvirt = Qnew - Q;\n    hh = Q - (Qnew - bvirt) + (enow - bvirt);\n    enow = e[++eindex];\n    Q = Qnew;\n\n    if (hh !== 0) {\n      h[hindex++] = hh;\n    }\n  }\n\n  while (findex < flen) {\n    Qnew = Q + fnow;\n    bvirt = Qnew - Q;\n    hh = Q - (Qnew - bvirt) + (fnow - bvirt);\n    fnow = f[++findex];\n    Q = Qnew;\n\n    if (hh !== 0) {\n      h[hindex++] = hh;\n    }\n  }\n\n  if (Q !== 0 || hindex === 0) {\n    h[hindex++] = Q;\n  }\n\n  return hindex;\n}\nexport function sum_three(alen, a, blen, b, clen, c, tmp, out) {\n  return sum(sum(alen, a, blen, b, tmp), tmp, clen, c, out);\n} // scale_expansion_zeroelim routine from oritinal code\n\nexport function scale(elen, e, b, h) {\n  var Q, sum, hh, product1, product0;\n  var bvirt, c, ahi, alo, bhi, blo;\n  c = splitter * b;\n  bhi = c - (c - b);\n  blo = b - bhi;\n  var enow = e[0];\n  Q = enow * b;\n  c = splitter * enow;\n  ahi = c - (c - enow);\n  alo = enow - ahi;\n  hh = alo * blo - (Q - ahi * bhi - alo * bhi - ahi * blo);\n  var hindex = 0;\n\n  if (hh !== 0) {\n    h[hindex++] = hh;\n  }\n\n  for (var i = 1; i < elen; i++) {\n    enow = e[i];\n    product1 = enow * b;\n    c = splitter * enow;\n    ahi = c - (c - enow);\n    alo = enow - ahi;\n    product0 = alo * blo - (product1 - ahi * bhi - alo * bhi - ahi * blo);\n    sum = Q + product0;\n    bvirt = sum - Q;\n    hh = Q - (sum - bvirt) + (product0 - bvirt);\n\n    if (hh !== 0) {\n      h[hindex++] = hh;\n    }\n\n    Q = product1 + sum;\n    hh = sum - (Q - product1);\n\n    if (hh !== 0) {\n      h[hindex++] = hh;\n    }\n  }\n\n  if (Q !== 0 || hindex === 0) {\n    h[hindex++] = Q;\n  }\n\n  return hindex;\n}\nexport function negate(elen, e) {\n  for (var i = 0; i < elen; i++) {\n    e[i] = -e[i];\n  }\n\n  return elen;\n}\nexport function estimate(elen, e) {\n  var Q = e[0];\n\n  for (var i = 1; i < elen; i++) {\n    Q += e[i];\n  }\n\n  return Q;\n}\nexport function vec(n) {\n  return new Float64Array(n);\n}","import { epsilon, splitter, resulterrbound, estimate, vec, sum } from './util.js';\nvar ccwerrboundA = (3 + 16 * epsilon) * epsilon;\nvar ccwerrboundB = (2 + 12 * epsilon) * epsilon;\nvar ccwerrboundC = (9 + 64 * epsilon) * epsilon * epsilon;\nvar B = vec(4);\nvar C1 = vec(8);\nvar C2 = vec(12);\nvar D = vec(16);\nvar u = vec(4);\n\nfunction orient2dadapt(ax, ay, bx, by, cx, cy, detsum) {\n  var acxtail, acytail, bcxtail, bcytail;\n\n  var bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0, u3;\n\n  var acx = ax - cx;\n  var bcx = bx - cx;\n  var acy = ay - cy;\n  var bcy = by - cy;\n  s1 = acx * bcy;\n  c = splitter * acx;\n  ahi = c - (c - acx);\n  alo = acx - ahi;\n  c = splitter * bcy;\n  bhi = c - (c - bcy);\n  blo = bcy - bhi;\n  s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n  t1 = acy * bcx;\n  c = splitter * acy;\n  ahi = c - (c - acy);\n  alo = acy - ahi;\n  c = splitter * bcx;\n  bhi = c - (c - bcx);\n  blo = bcx - bhi;\n  t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n  _i = s0 - t0;\n  bvirt = s0 - _i;\n  B[0] = s0 - (_i + bvirt) + (bvirt - t0);\n  _j = s1 + _i;\n  bvirt = _j - s1;\n  _0 = s1 - (_j - bvirt) + (_i - bvirt);\n  _i = _0 - t1;\n  bvirt = _0 - _i;\n  B[1] = _0 - (_i + bvirt) + (bvirt - t1);\n  u3 = _j + _i;\n  bvirt = u3 - _j;\n  B[2] = _j - (u3 - bvirt) + (_i - bvirt);\n  B[3] = u3;\n  var det = estimate(4, B);\n  var errbound = ccwerrboundB * detsum;\n\n  if (det >= errbound || -det >= errbound) {\n    return det;\n  }\n\n  bvirt = ax - acx;\n  acxtail = ax - (acx + bvirt) + (bvirt - cx);\n  bvirt = bx - bcx;\n  bcxtail = bx - (bcx + bvirt) + (bvirt - cx);\n  bvirt = ay - acy;\n  acytail = ay - (acy + bvirt) + (bvirt - cy);\n  bvirt = by - bcy;\n  bcytail = by - (bcy + bvirt) + (bvirt - cy);\n\n  if (acxtail === 0 && acytail === 0 && bcxtail === 0 && bcytail === 0) {\n    return det;\n  }\n\n  errbound = ccwerrboundC * detsum + resulterrbound * Math.abs(det);\n  det += acx * bcytail + bcy * acxtail - (acy * bcxtail + bcx * acytail);\n  if (det >= errbound || -det >= errbound) return det;\n  s1 = acxtail * bcy;\n  c = splitter * acxtail;\n  ahi = c - (c - acxtail);\n  alo = acxtail - ahi;\n  c = splitter * bcy;\n  bhi = c - (c - bcy);\n  blo = bcy - bhi;\n  s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n  t1 = acytail * bcx;\n  c = splitter * acytail;\n  ahi = c - (c - acytail);\n  alo = acytail - ahi;\n  c = splitter * bcx;\n  bhi = c - (c - bcx);\n  blo = bcx - bhi;\n  t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n  _i = s0 - t0;\n  bvirt = s0 - _i;\n  u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n  _j = s1 + _i;\n  bvirt = _j - s1;\n  _0 = s1 - (_j - bvirt) + (_i - bvirt);\n  _i = _0 - t1;\n  bvirt = _0 - _i;\n  u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n  u3 = _j + _i;\n  bvirt = u3 - _j;\n  u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n  u[3] = u3;\n  var C1len = sum(4, B, 4, u, C1);\n  s1 = acx * bcytail;\n  c = splitter * acx;\n  ahi = c - (c - acx);\n  alo = acx - ahi;\n  c = splitter * bcytail;\n  bhi = c - (c - bcytail);\n  blo = bcytail - bhi;\n  s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n  t1 = acy * bcxtail;\n  c = splitter * acy;\n  ahi = c - (c - acy);\n  alo = acy - ahi;\n  c = splitter * bcxtail;\n  bhi = c - (c - bcxtail);\n  blo = bcxtail - bhi;\n  t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n  _i = s0 - t0;\n  bvirt = s0 - _i;\n  u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n  _j = s1 + _i;\n  bvirt = _j - s1;\n  _0 = s1 - (_j - bvirt) + (_i - bvirt);\n  _i = _0 - t1;\n  bvirt = _0 - _i;\n  u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n  u3 = _j + _i;\n  bvirt = u3 - _j;\n  u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n  u[3] = u3;\n  var C2len = sum(C1len, C1, 4, u, C2);\n  s1 = acxtail * bcytail;\n  c = splitter * acxtail;\n  ahi = c - (c - acxtail);\n  alo = acxtail - ahi;\n  c = splitter * bcytail;\n  bhi = c - (c - bcytail);\n  blo = bcytail - bhi;\n  s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n  t1 = acytail * bcxtail;\n  c = splitter * acytail;\n  ahi = c - (c - acytail);\n  alo = acytail - ahi;\n  c = splitter * bcxtail;\n  bhi = c - (c - bcxtail);\n  blo = bcxtail - bhi;\n  t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n  _i = s0 - t0;\n  bvirt = s0 - _i;\n  u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n  _j = s1 + _i;\n  bvirt = _j - s1;\n  _0 = s1 - (_j - bvirt) + (_i - bvirt);\n  _i = _0 - t1;\n  bvirt = _0 - _i;\n  u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n  u3 = _j + _i;\n  bvirt = u3 - _j;\n  u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n  u[3] = u3;\n  var Dlen = sum(C2len, C2, 4, u, D);\n  return D[Dlen - 1];\n}\n\nexport function orient2d(ax, ay, bx, by, cx, cy) {\n  var detleft = (ay - cy) * (bx - cx);\n  var detright = (ax - cx) * (by - cy);\n  var det = detleft - detright;\n  if (detleft === 0 || detright === 0 || detleft > 0 !== detright > 0) return det;\n  var detsum = Math.abs(detleft + detright);\n  if (Math.abs(det) >= ccwerrboundA * detsum) return det;\n  return -orient2dadapt(ax, ay, bx, by, cx, cy, detsum);\n}\nexport function orient2dfast(ax, ay, bx, by, cx, cy) {\n  return (ay - cy) * (bx - cx) - (ax - cx) * (by - cy);\n}","import { epsilon, splitter, resulterrbound, estimate, vec, sum, scale } from './util.js';\nvar o3derrboundA = (7 + 56 * epsilon) * epsilon;\nvar o3derrboundB = (3 + 28 * epsilon) * epsilon;\nvar o3derrboundC = (26 + 288 * epsilon) * epsilon * epsilon;\nvar bc = vec(4);\nvar ca = vec(4);\nvar ab = vec(4);\nvar at_b = vec(4);\nvar at_c = vec(4);\nvar bt_c = vec(4);\nvar bt_a = vec(4);\nvar ct_a = vec(4);\nvar ct_b = vec(4);\nvar bct = vec(8);\nvar cat = vec(8);\nvar abt = vec(8);\nvar u = vec(4);\n\nvar _8 = vec(8);\n\nvar _8b = vec(8);\n\nvar _16 = vec(8);\n\nvar _12 = vec(12);\n\nvar fin = vec(192);\nvar fin2 = vec(192);\n\nfunction finadd(finlen, alen, a) {\n  finlen = sum(finlen, fin, alen, a, fin2);\n  var tmp = fin;\n  fin = fin2;\n  fin2 = tmp;\n  return finlen;\n}\n\nfunction tailinit(xtail, ytail, ax, ay, bx, by, a, b) {\n  var bvirt, c, ahi, alo, bhi, blo, _i, _j, _k, _0, s1, s0, t1, t0, u3, negate;\n\n  if (xtail === 0) {\n    if (ytail === 0) {\n      a[0] = 0;\n      b[0] = 0;\n      return 1;\n    } else {\n      negate = -ytail;\n      s1 = negate * ax;\n      c = splitter * negate;\n      ahi = c - (c - negate);\n      alo = negate - ahi;\n      c = splitter * ax;\n      bhi = c - (c - ax);\n      blo = ax - bhi;\n      a[0] = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n      a[1] = s1;\n      s1 = ytail * bx;\n      c = splitter * ytail;\n      ahi = c - (c - ytail);\n      alo = ytail - ahi;\n      c = splitter * bx;\n      bhi = c - (c - bx);\n      blo = bx - bhi;\n      b[0] = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n      b[1] = s1;\n      return 2;\n    }\n  } else {\n    if (ytail === 0) {\n      s1 = xtail * ay;\n      c = splitter * xtail;\n      ahi = c - (c - xtail);\n      alo = xtail - ahi;\n      c = splitter * ay;\n      bhi = c - (c - ay);\n      blo = ay - bhi;\n      a[0] = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n      a[1] = s1;\n      negate = -xtail;\n      s1 = negate * by;\n      c = splitter * negate;\n      ahi = c - (c - negate);\n      alo = negate - ahi;\n      c = splitter * by;\n      bhi = c - (c - by);\n      blo = by - bhi;\n      b[0] = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n      b[1] = s1;\n      return 2;\n    } else {\n      s1 = xtail * ay;\n      c = splitter * xtail;\n      ahi = c - (c - xtail);\n      alo = xtail - ahi;\n      c = splitter * ay;\n      bhi = c - (c - ay);\n      blo = ay - bhi;\n      s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n      t1 = ytail * ax;\n      c = splitter * ytail;\n      ahi = c - (c - ytail);\n      alo = ytail - ahi;\n      c = splitter * ax;\n      bhi = c - (c - ax);\n      blo = ax - bhi;\n      t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n      _i = s0 - t0;\n      bvirt = s0 - _i;\n      a[0] = s0 - (_i + bvirt) + (bvirt - t0);\n      _j = s1 + _i;\n      bvirt = _j - s1;\n      _0 = s1 - (_j - bvirt) + (_i - bvirt);\n      _i = _0 - t1;\n      bvirt = _0 - _i;\n      a[1] = _0 - (_i + bvirt) + (bvirt - t1);\n      u3 = _j + _i;\n      bvirt = u3 - _j;\n      a[2] = _j - (u3 - bvirt) + (_i - bvirt);\n      a[3] = u3;\n      s1 = ytail * bx;\n      c = splitter * ytail;\n      ahi = c - (c - ytail);\n      alo = ytail - ahi;\n      c = splitter * bx;\n      bhi = c - (c - bx);\n      blo = bx - bhi;\n      s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n      t1 = xtail * by;\n      c = splitter * xtail;\n      ahi = c - (c - xtail);\n      alo = xtail - ahi;\n      c = splitter * by;\n      bhi = c - (c - by);\n      blo = by - bhi;\n      t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n      _i = s0 - t0;\n      bvirt = s0 - _i;\n      b[0] = s0 - (_i + bvirt) + (bvirt - t0);\n      _j = s1 + _i;\n      bvirt = _j - s1;\n      _0 = s1 - (_j - bvirt) + (_i - bvirt);\n      _i = _0 - t1;\n      bvirt = _0 - _i;\n      b[1] = _0 - (_i + bvirt) + (bvirt - t1);\n      u3 = _j + _i;\n      bvirt = u3 - _j;\n      b[2] = _j - (u3 - bvirt) + (_i - bvirt);\n      b[3] = u3;\n      return 4;\n    }\n  }\n}\n\nfunction tailadd(finlen, a, b, k, z) {\n  var bvirt, c, ahi, alo, bhi, blo, _i, _j, _k, _0, s1, s0, u3;\n\n  s1 = a * b;\n  c = splitter * a;\n  ahi = c - (c - a);\n  alo = a - ahi;\n  c = splitter * b;\n  bhi = c - (c - b);\n  blo = b - bhi;\n  s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n  c = splitter * k;\n  bhi = c - (c - k);\n  blo = k - bhi;\n  _i = s0 * k;\n  c = splitter * s0;\n  ahi = c - (c - s0);\n  alo = s0 - ahi;\n  u[0] = alo * blo - (_i - ahi * bhi - alo * bhi - ahi * blo);\n  _j = s1 * k;\n  c = splitter * s1;\n  ahi = c - (c - s1);\n  alo = s1 - ahi;\n  _0 = alo * blo - (_j - ahi * bhi - alo * bhi - ahi * blo);\n  _k = _i + _0;\n  bvirt = _k - _i;\n  u[1] = _i - (_k - bvirt) + (_0 - bvirt);\n  u3 = _j + _k;\n  u[2] = _k - (u3 - _j);\n  u[3] = u3;\n  finlen = finadd(finlen, 4, u);\n\n  if (z !== 0) {\n    c = splitter * z;\n    bhi = c - (c - z);\n    blo = z - bhi;\n    _i = s0 * z;\n    c = splitter * s0;\n    ahi = c - (c - s0);\n    alo = s0 - ahi;\n    u[0] = alo * blo - (_i - ahi * bhi - alo * bhi - ahi * blo);\n    _j = s1 * z;\n    c = splitter * s1;\n    ahi = c - (c - s1);\n    alo = s1 - ahi;\n    _0 = alo * blo - (_j - ahi * bhi - alo * bhi - ahi * blo);\n    _k = _i + _0;\n    bvirt = _k - _i;\n    u[1] = _i - (_k - bvirt) + (_0 - bvirt);\n    u3 = _j + _k;\n    u[2] = _k - (u3 - _j);\n    u[3] = u3;\n    finlen = finadd(finlen, 4, u);\n  }\n\n  return finlen;\n}\n\nfunction orient3dadapt(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, permanent) {\n  var finlen;\n  var adxtail, bdxtail, cdxtail;\n  var adytail, bdytail, cdytail;\n  var adztail, bdztail, cdztail;\n\n  var bvirt, c, ahi, alo, bhi, blo, _i, _j, _k, _0, s1, s0, t1, t0, u3;\n\n  var adx = ax - dx;\n  var bdx = bx - dx;\n  var cdx = cx - dx;\n  var ady = ay - dy;\n  var bdy = by - dy;\n  var cdy = cy - dy;\n  var adz = az - dz;\n  var bdz = bz - dz;\n  var cdz = cz - dz;\n  s1 = bdx * cdy;\n  c = splitter * bdx;\n  ahi = c - (c - bdx);\n  alo = bdx - ahi;\n  c = splitter * cdy;\n  bhi = c - (c - cdy);\n  blo = cdy - bhi;\n  s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n  t1 = cdx * bdy;\n  c = splitter * cdx;\n  ahi = c - (c - cdx);\n  alo = cdx - ahi;\n  c = splitter * bdy;\n  bhi = c - (c - bdy);\n  blo = bdy - bhi;\n  t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n  _i = s0 - t0;\n  bvirt = s0 - _i;\n  bc[0] = s0 - (_i + bvirt) + (bvirt - t0);\n  _j = s1 + _i;\n  bvirt = _j - s1;\n  _0 = s1 - (_j - bvirt) + (_i - bvirt);\n  _i = _0 - t1;\n  bvirt = _0 - _i;\n  bc[1] = _0 - (_i + bvirt) + (bvirt - t1);\n  u3 = _j + _i;\n  bvirt = u3 - _j;\n  bc[2] = _j - (u3 - bvirt) + (_i - bvirt);\n  bc[3] = u3;\n  s1 = cdx * ady;\n  c = splitter * cdx;\n  ahi = c - (c - cdx);\n  alo = cdx - ahi;\n  c = splitter * ady;\n  bhi = c - (c - ady);\n  blo = ady - bhi;\n  s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n  t1 = adx * cdy;\n  c = splitter * adx;\n  ahi = c - (c - adx);\n  alo = adx - ahi;\n  c = splitter * cdy;\n  bhi = c - (c - cdy);\n  blo = cdy - bhi;\n  t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n  _i = s0 - t0;\n  bvirt = s0 - _i;\n  ca[0] = s0 - (_i + bvirt) + (bvirt - t0);\n  _j = s1 + _i;\n  bvirt = _j - s1;\n  _0 = s1 - (_j - bvirt) + (_i - bvirt);\n  _i = _0 - t1;\n  bvirt = _0 - _i;\n  ca[1] = _0 - (_i + bvirt) + (bvirt - t1);\n  u3 = _j + _i;\n  bvirt = u3 - _j;\n  ca[2] = _j - (u3 - bvirt) + (_i - bvirt);\n  ca[3] = u3;\n  s1 = adx * bdy;\n  c = splitter * adx;\n  ahi = c - (c - adx);\n  alo = adx - ahi;\n  c = splitter * bdy;\n  bhi = c - (c - bdy);\n  blo = bdy - bhi;\n  s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n  t1 = bdx * ady;\n  c = splitter * bdx;\n  ahi = c - (c - bdx);\n  alo = bdx - ahi;\n  c = splitter * ady;\n  bhi = c - (c - ady);\n  blo = ady - bhi;\n  t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n  _i = s0 - t0;\n  bvirt = s0 - _i;\n  ab[0] = s0 - (_i + bvirt) + (bvirt - t0);\n  _j = s1 + _i;\n  bvirt = _j - s1;\n  _0 = s1 - (_j - bvirt) + (_i - bvirt);\n  _i = _0 - t1;\n  bvirt = _0 - _i;\n  ab[1] = _0 - (_i + bvirt) + (bvirt - t1);\n  u3 = _j + _i;\n  bvirt = u3 - _j;\n  ab[2] = _j - (u3 - bvirt) + (_i - bvirt);\n  ab[3] = u3;\n  finlen = sum(sum(scale(4, bc, adz, _8), _8, scale(4, ca, bdz, _8b), _8b, _16), _16, scale(4, ab, cdz, _8), _8, fin);\n  var det = estimate(finlen, fin);\n  var errbound = o3derrboundB * permanent;\n\n  if (det >= errbound || -det >= errbound) {\n    return det;\n  }\n\n  bvirt = ax - adx;\n  adxtail = ax - (adx + bvirt) + (bvirt - dx);\n  bvirt = bx - bdx;\n  bdxtail = bx - (bdx + bvirt) + (bvirt - dx);\n  bvirt = cx - cdx;\n  cdxtail = cx - (cdx + bvirt) + (bvirt - dx);\n  bvirt = ay - ady;\n  adytail = ay - (ady + bvirt) + (bvirt - dy);\n  bvirt = by - bdy;\n  bdytail = by - (bdy + bvirt) + (bvirt - dy);\n  bvirt = cy - cdy;\n  cdytail = cy - (cdy + bvirt) + (bvirt - dy);\n  bvirt = az - adz;\n  adztail = az - (adz + bvirt) + (bvirt - dz);\n  bvirt = bz - bdz;\n  bdztail = bz - (bdz + bvirt) + (bvirt - dz);\n  bvirt = cz - cdz;\n  cdztail = cz - (cdz + bvirt) + (bvirt - dz);\n\n  if (adxtail === 0 && bdxtail === 0 && cdxtail === 0 && adytail === 0 && bdytail === 0 && cdytail === 0 && adztail === 0 && bdztail === 0 && cdztail === 0) {\n    return det;\n  }\n\n  errbound = o3derrboundC * permanent + resulterrbound * Math.abs(det);\n  det += adz * (bdx * cdytail + cdy * bdxtail - (bdy * cdxtail + cdx * bdytail)) + adztail * (bdx * cdy - bdy * cdx) + bdz * (cdx * adytail + ady * cdxtail - (cdy * adxtail + adx * cdytail)) + bdztail * (cdx * ady - cdy * adx) + cdz * (adx * bdytail + bdy * adxtail - (ady * bdxtail + bdx * adytail)) + cdztail * (adx * bdy - ady * bdx);\n\n  if (det >= errbound || -det >= errbound) {\n    return det;\n  }\n\n  var at_len = tailinit(adxtail, adytail, bdx, bdy, cdx, cdy, at_b, at_c);\n  var bt_len = tailinit(bdxtail, bdytail, cdx, cdy, adx, ady, bt_c, bt_a);\n  var ct_len = tailinit(cdxtail, cdytail, adx, ady, bdx, bdy, ct_a, ct_b);\n  var bctlen = sum(bt_len, bt_c, ct_len, ct_b, bct);\n  finlen = finadd(finlen, scale(bctlen, bct, adz, _16), _16);\n  var catlen = sum(ct_len, ct_a, at_len, at_c, cat);\n  finlen = finadd(finlen, scale(catlen, cat, bdz, _16), _16);\n  var abtlen = sum(at_len, at_b, bt_len, bt_a, abt);\n  finlen = finadd(finlen, scale(abtlen, abt, cdz, _16), _16);\n\n  if (adztail !== 0) {\n    finlen = finadd(finlen, scale(4, bc, adztail, _12), _12);\n    finlen = finadd(finlen, scale(bctlen, bct, adztail, _16), _16);\n  }\n\n  if (bdztail !== 0) {\n    finlen = finadd(finlen, scale(4, ca, bdztail, _12), _12);\n    finlen = finadd(finlen, scale(catlen, cat, bdztail, _16), _16);\n  }\n\n  if (cdztail !== 0) {\n    finlen = finadd(finlen, scale(4, ab, cdztail, _12), _12);\n    finlen = finadd(finlen, scale(abtlen, abt, cdztail, _16), _16);\n  }\n\n  if (adxtail !== 0) {\n    if (bdytail !== 0) {\n      finlen = tailadd(finlen, adxtail, bdytail, cdz, cdztail);\n    }\n\n    if (cdytail !== 0) {\n      finlen = tailadd(finlen, -adxtail, cdytail, bdz, bdztail);\n    }\n  }\n\n  if (bdxtail !== 0) {\n    if (cdytail !== 0) {\n      finlen = tailadd(finlen, bdxtail, cdytail, adz, adztail);\n    }\n\n    if (adytail !== 0) {\n      finlen = tailadd(finlen, -bdxtail, adytail, cdz, cdztail);\n    }\n  }\n\n  if (cdxtail !== 0) {\n    if (adytail !== 0) {\n      finlen = tailadd(finlen, cdxtail, adytail, bdz, bdztail);\n    }\n\n    if (bdytail !== 0) {\n      finlen = tailadd(finlen, -cdxtail, bdytail, adz, adztail);\n    }\n  }\n\n  return fin[finlen - 1];\n}\n\nexport function orient3d(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz) {\n  var adx = ax - dx;\n  var bdx = bx - dx;\n  var cdx = cx - dx;\n  var ady = ay - dy;\n  var bdy = by - dy;\n  var cdy = cy - dy;\n  var adz = az - dz;\n  var bdz = bz - dz;\n  var cdz = cz - dz;\n  var bdxcdy = bdx * cdy;\n  var cdxbdy = cdx * bdy;\n  var cdxady = cdx * ady;\n  var adxcdy = adx * cdy;\n  var adxbdy = adx * bdy;\n  var bdxady = bdx * ady;\n  var det = adz * (bdxcdy - cdxbdy) + bdz * (cdxady - adxcdy) + cdz * (adxbdy - bdxady);\n  var permanent = (Math.abs(bdxcdy) + Math.abs(cdxbdy)) * Math.abs(adz) + (Math.abs(cdxady) + Math.abs(adxcdy)) * Math.abs(bdz) + (Math.abs(adxbdy) + Math.abs(bdxady)) * Math.abs(cdz);\n  var errbound = o3derrboundA * permanent;\n\n  if (det > errbound || -det > errbound) {\n    return det;\n  }\n\n  return orient3dadapt(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, permanent);\n}\nexport function orient3dfast(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz) {\n  var adx = ax - dx;\n  var bdx = bx - dx;\n  var cdx = cx - dx;\n  var ady = ay - dy;\n  var bdy = by - dy;\n  var cdy = cy - dy;\n  var adz = az - dz;\n  var bdz = bz - dz;\n  var cdz = cz - dz;\n  return adx * (bdy * cdz - bdz * cdy) + bdx * (cdy * adz - cdz * ady) + cdx * (ady * bdz - adz * bdy);\n}","import { epsilon, splitter, resulterrbound, estimate, vec, sum, sum_three, scale } from './util.js';\nvar iccerrboundA = (10 + 96 * epsilon) * epsilon;\nvar iccerrboundB = (4 + 48 * epsilon) * epsilon;\nvar iccerrboundC = (44 + 576 * epsilon) * epsilon * epsilon;\nvar bc = vec(4);\nvar ca = vec(4);\nvar ab = vec(4);\nvar aa = vec(4);\nvar bb = vec(4);\nvar cc = vec(4);\nvar u = vec(4);\nvar v = vec(4);\nvar axtbc = vec(8);\nvar aytbc = vec(8);\nvar bxtca = vec(8);\nvar bytca = vec(8);\nvar cxtab = vec(8);\nvar cytab = vec(8);\nvar abt = vec(8);\nvar bct = vec(8);\nvar cat = vec(8);\nvar abtt = vec(4);\nvar bctt = vec(4);\nvar catt = vec(4);\n\nvar _8 = vec(8);\n\nvar _16 = vec(16);\n\nvar _16b = vec(16);\n\nvar _16c = vec(16);\n\nvar _32 = vec(32);\n\nvar _32b = vec(32);\n\nvar _48 = vec(48);\n\nvar _64 = vec(64);\n\nvar fin = vec(1152);\nvar fin2 = vec(1152);\n\nfunction finadd(finlen, a, alen) {\n  finlen = sum(finlen, fin, a, alen, fin2);\n  var tmp = fin;\n  fin = fin2;\n  fin2 = tmp;\n  return finlen;\n}\n\nfunction incircleadapt(ax, ay, bx, by, cx, cy, dx, dy, permanent) {\n  var finlen;\n  var adxtail, bdxtail, cdxtail, adytail, bdytail, cdytail;\n  var axtbclen, aytbclen, bxtcalen, bytcalen, cxtablen, cytablen;\n  var abtlen, bctlen, catlen;\n  var abttlen, bcttlen, cattlen;\n  var n1, n0;\n\n  var bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0, u3;\n\n  var adx = ax - dx;\n  var bdx = bx - dx;\n  var cdx = cx - dx;\n  var ady = ay - dy;\n  var bdy = by - dy;\n  var cdy = cy - dy;\n  s1 = bdx * cdy;\n  c = splitter * bdx;\n  ahi = c - (c - bdx);\n  alo = bdx - ahi;\n  c = splitter * cdy;\n  bhi = c - (c - cdy);\n  blo = cdy - bhi;\n  s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n  t1 = cdx * bdy;\n  c = splitter * cdx;\n  ahi = c - (c - cdx);\n  alo = cdx - ahi;\n  c = splitter * bdy;\n  bhi = c - (c - bdy);\n  blo = bdy - bhi;\n  t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n  _i = s0 - t0;\n  bvirt = s0 - _i;\n  bc[0] = s0 - (_i + bvirt) + (bvirt - t0);\n  _j = s1 + _i;\n  bvirt = _j - s1;\n  _0 = s1 - (_j - bvirt) + (_i - bvirt);\n  _i = _0 - t1;\n  bvirt = _0 - _i;\n  bc[1] = _0 - (_i + bvirt) + (bvirt - t1);\n  u3 = _j + _i;\n  bvirt = u3 - _j;\n  bc[2] = _j - (u3 - bvirt) + (_i - bvirt);\n  bc[3] = u3;\n  s1 = cdx * ady;\n  c = splitter * cdx;\n  ahi = c - (c - cdx);\n  alo = cdx - ahi;\n  c = splitter * ady;\n  bhi = c - (c - ady);\n  blo = ady - bhi;\n  s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n  t1 = adx * cdy;\n  c = splitter * adx;\n  ahi = c - (c - adx);\n  alo = adx - ahi;\n  c = splitter * cdy;\n  bhi = c - (c - cdy);\n  blo = cdy - bhi;\n  t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n  _i = s0 - t0;\n  bvirt = s0 - _i;\n  ca[0] = s0 - (_i + bvirt) + (bvirt - t0);\n  _j = s1 + _i;\n  bvirt = _j - s1;\n  _0 = s1 - (_j - bvirt) + (_i - bvirt);\n  _i = _0 - t1;\n  bvirt = _0 - _i;\n  ca[1] = _0 - (_i + bvirt) + (bvirt - t1);\n  u3 = _j + _i;\n  bvirt = u3 - _j;\n  ca[2] = _j - (u3 - bvirt) + (_i - bvirt);\n  ca[3] = u3;\n  s1 = adx * bdy;\n  c = splitter * adx;\n  ahi = c - (c - adx);\n  alo = adx - ahi;\n  c = splitter * bdy;\n  bhi = c - (c - bdy);\n  blo = bdy - bhi;\n  s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n  t1 = bdx * ady;\n  c = splitter * bdx;\n  ahi = c - (c - bdx);\n  alo = bdx - ahi;\n  c = splitter * ady;\n  bhi = c - (c - ady);\n  blo = ady - bhi;\n  t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n  _i = s0 - t0;\n  bvirt = s0 - _i;\n  ab[0] = s0 - (_i + bvirt) + (bvirt - t0);\n  _j = s1 + _i;\n  bvirt = _j - s1;\n  _0 = s1 - (_j - bvirt) + (_i - bvirt);\n  _i = _0 - t1;\n  bvirt = _0 - _i;\n  ab[1] = _0 - (_i + bvirt) + (bvirt - t1);\n  u3 = _j + _i;\n  bvirt = u3 - _j;\n  ab[2] = _j - (u3 - bvirt) + (_i - bvirt);\n  ab[3] = u3;\n  finlen = sum(sum(sum(scale(scale(4, bc, adx, _8), _8, adx, _16), _16, scale(scale(4, bc, ady, _8), _8, ady, _16b), _16b, _32), _32, sum(scale(scale(4, ca, bdx, _8), _8, bdx, _16), _16, scale(scale(4, ca, bdy, _8), _8, bdy, _16b), _16b, _32b), _32b, _64), _64, sum(scale(scale(4, ab, cdx, _8), _8, cdx, _16), _16, scale(scale(4, ab, cdy, _8), _8, cdy, _16b), _16b, _32), _32, fin);\n  var det = estimate(finlen, fin);\n  var errbound = iccerrboundB * permanent;\n\n  if (det >= errbound || -det >= errbound) {\n    return det;\n  }\n\n  bvirt = ax - adx;\n  adxtail = ax - (adx + bvirt) + (bvirt - dx);\n  bvirt = ay - ady;\n  adytail = ay - (ady + bvirt) + (bvirt - dy);\n  bvirt = bx - bdx;\n  bdxtail = bx - (bdx + bvirt) + (bvirt - dx);\n  bvirt = by - bdy;\n  bdytail = by - (bdy + bvirt) + (bvirt - dy);\n  bvirt = cx - cdx;\n  cdxtail = cx - (cdx + bvirt) + (bvirt - dx);\n  bvirt = cy - cdy;\n  cdytail = cy - (cdy + bvirt) + (bvirt - dy);\n\n  if (adxtail === 0 && bdxtail === 0 && cdxtail === 0 && adytail === 0 && bdytail === 0 && cdytail === 0) {\n    return det;\n  }\n\n  errbound = iccerrboundC * permanent + resulterrbound * Math.abs(det);\n  det += (adx * adx + ady * ady) * (bdx * cdytail + cdy * bdxtail - (bdy * cdxtail + cdx * bdytail)) + 2 * (adx * adxtail + ady * adytail) * (bdx * cdy - bdy * cdx) + ((bdx * bdx + bdy * bdy) * (cdx * adytail + ady * cdxtail - (cdy * adxtail + adx * cdytail)) + 2 * (bdx * bdxtail + bdy * bdytail) * (cdx * ady - cdy * adx)) + ((cdx * cdx + cdy * cdy) * (adx * bdytail + bdy * adxtail - (ady * bdxtail + bdx * adytail)) + 2 * (cdx * cdxtail + cdy * cdytail) * (adx * bdy - ady * bdx));\n\n  if (det >= errbound || -det >= errbound) {\n    return det;\n  }\n\n  if (bdxtail !== 0 || bdytail !== 0 || cdxtail !== 0 || cdytail !== 0) {\n    s1 = adx * adx;\n    c = splitter * adx;\n    ahi = c - (c - adx);\n    alo = adx - ahi;\n    s0 = alo * alo - (s1 - ahi * ahi - (ahi + ahi) * alo);\n    t1 = ady * ady;\n    c = splitter * ady;\n    ahi = c - (c - ady);\n    alo = ady - ahi;\n    t0 = alo * alo - (t1 - ahi * ahi - (ahi + ahi) * alo);\n    _i = s0 + t0;\n    bvirt = _i - s0;\n    aa[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 + t1;\n    bvirt = _i - _0;\n    aa[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    aa[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    aa[3] = u3;\n  }\n\n  if (cdxtail !== 0 || cdytail !== 0 || adxtail !== 0 || adytail !== 0) {\n    s1 = bdx * bdx;\n    c = splitter * bdx;\n    ahi = c - (c - bdx);\n    alo = bdx - ahi;\n    s0 = alo * alo - (s1 - ahi * ahi - (ahi + ahi) * alo);\n    t1 = bdy * bdy;\n    c = splitter * bdy;\n    ahi = c - (c - bdy);\n    alo = bdy - ahi;\n    t0 = alo * alo - (t1 - ahi * ahi - (ahi + ahi) * alo);\n    _i = s0 + t0;\n    bvirt = _i - s0;\n    bb[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 + t1;\n    bvirt = _i - _0;\n    bb[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    bb[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    bb[3] = u3;\n  }\n\n  if (adxtail !== 0 || adytail !== 0 || bdxtail !== 0 || bdytail !== 0) {\n    s1 = cdx * cdx;\n    c = splitter * cdx;\n    ahi = c - (c - cdx);\n    alo = cdx - ahi;\n    s0 = alo * alo - (s1 - ahi * ahi - (ahi + ahi) * alo);\n    t1 = cdy * cdy;\n    c = splitter * cdy;\n    ahi = c - (c - cdy);\n    alo = cdy - ahi;\n    t0 = alo * alo - (t1 - ahi * ahi - (ahi + ahi) * alo);\n    _i = s0 + t0;\n    bvirt = _i - s0;\n    cc[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 + t1;\n    bvirt = _i - _0;\n    cc[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    cc[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    cc[3] = u3;\n  }\n\n  if (adxtail !== 0) {\n    axtbclen = scale(4, bc, adxtail, axtbc);\n    finlen = finadd(finlen, sum_three(scale(axtbclen, axtbc, 2 * adx, _16), _16, scale(scale(4, cc, adxtail, _8), _8, bdy, _16b), _16b, scale(scale(4, bb, adxtail, _8), _8, -cdy, _16c), _16c, _32, _48), _48);\n  }\n\n  if (adytail !== 0) {\n    aytbclen = scale(4, bc, adytail, aytbc);\n    finlen = finadd(finlen, sum_three(scale(aytbclen, aytbc, 2 * ady, _16), _16, scale(scale(4, bb, adytail, _8), _8, cdx, _16b), _16b, scale(scale(4, cc, adytail, _8), _8, -bdx, _16c), _16c, _32, _48), _48);\n  }\n\n  if (bdxtail !== 0) {\n    bxtcalen = scale(4, ca, bdxtail, bxtca);\n    finlen = finadd(finlen, sum_three(scale(bxtcalen, bxtca, 2 * bdx, _16), _16, scale(scale(4, aa, bdxtail, _8), _8, cdy, _16b), _16b, scale(scale(4, cc, bdxtail, _8), _8, -ady, _16c), _16c, _32, _48), _48);\n  }\n\n  if (bdytail !== 0) {\n    bytcalen = scale(4, ca, bdytail, bytca);\n    finlen = finadd(finlen, sum_three(scale(bytcalen, bytca, 2 * bdy, _16), _16, scale(scale(4, cc, bdytail, _8), _8, adx, _16b), _16b, scale(scale(4, aa, bdytail, _8), _8, -cdx, _16c), _16c, _32, _48), _48);\n  }\n\n  if (cdxtail !== 0) {\n    cxtablen = scale(4, ab, cdxtail, cxtab);\n    finlen = finadd(finlen, sum_three(scale(cxtablen, cxtab, 2 * cdx, _16), _16, scale(scale(4, bb, cdxtail, _8), _8, ady, _16b), _16b, scale(scale(4, aa, cdxtail, _8), _8, -bdy, _16c), _16c, _32, _48), _48);\n  }\n\n  if (cdytail !== 0) {\n    cytablen = scale(4, ab, cdytail, cytab);\n    finlen = finadd(finlen, sum_three(scale(cytablen, cytab, 2 * cdy, _16), _16, scale(scale(4, aa, cdytail, _8), _8, bdx, _16b), _16b, scale(scale(4, bb, cdytail, _8), _8, -adx, _16c), _16c, _32, _48), _48);\n  }\n\n  if (adxtail !== 0 || adytail !== 0) {\n    if (bdxtail !== 0 || bdytail !== 0 || cdxtail !== 0 || cdytail !== 0) {\n      s1 = bdxtail * cdy;\n      c = splitter * bdxtail;\n      ahi = c - (c - bdxtail);\n      alo = bdxtail - ahi;\n      c = splitter * cdy;\n      bhi = c - (c - cdy);\n      blo = cdy - bhi;\n      s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n      t1 = bdx * cdytail;\n      c = splitter * bdx;\n      ahi = c - (c - bdx);\n      alo = bdx - ahi;\n      c = splitter * cdytail;\n      bhi = c - (c - cdytail);\n      blo = cdytail - bhi;\n      t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n      _i = s0 + t0;\n      bvirt = _i - s0;\n      u[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n      _j = s1 + _i;\n      bvirt = _j - s1;\n      _0 = s1 - (_j - bvirt) + (_i - bvirt);\n      _i = _0 + t1;\n      bvirt = _i - _0;\n      u[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n      u3 = _j + _i;\n      bvirt = u3 - _j;\n      u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n      u[3] = u3;\n      s1 = cdxtail * -bdy;\n      c = splitter * cdxtail;\n      ahi = c - (c - cdxtail);\n      alo = cdxtail - ahi;\n      c = splitter * -bdy;\n      bhi = c - (c - -bdy);\n      blo = -bdy - bhi;\n      s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n      t1 = cdx * -bdytail;\n      c = splitter * cdx;\n      ahi = c - (c - cdx);\n      alo = cdx - ahi;\n      c = splitter * -bdytail;\n      bhi = c - (c - -bdytail);\n      blo = -bdytail - bhi;\n      t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n      _i = s0 + t0;\n      bvirt = _i - s0;\n      v[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n      _j = s1 + _i;\n      bvirt = _j - s1;\n      _0 = s1 - (_j - bvirt) + (_i - bvirt);\n      _i = _0 + t1;\n      bvirt = _i - _0;\n      v[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n      u3 = _j + _i;\n      bvirt = u3 - _j;\n      v[2] = _j - (u3 - bvirt) + (_i - bvirt);\n      v[3] = u3;\n      bctlen = sum(4, u, 4, v, bct);\n      s1 = bdxtail * cdytail;\n      c = splitter * bdxtail;\n      ahi = c - (c - bdxtail);\n      alo = bdxtail - ahi;\n      c = splitter * cdytail;\n      bhi = c - (c - cdytail);\n      blo = cdytail - bhi;\n      s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n      t1 = cdxtail * bdytail;\n      c = splitter * cdxtail;\n      ahi = c - (c - cdxtail);\n      alo = cdxtail - ahi;\n      c = splitter * bdytail;\n      bhi = c - (c - bdytail);\n      blo = bdytail - bhi;\n      t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n      _i = s0 - t0;\n      bvirt = s0 - _i;\n      bctt[0] = s0 - (_i + bvirt) + (bvirt - t0);\n      _j = s1 + _i;\n      bvirt = _j - s1;\n      _0 = s1 - (_j - bvirt) + (_i - bvirt);\n      _i = _0 - t1;\n      bvirt = _0 - _i;\n      bctt[1] = _0 - (_i + bvirt) + (bvirt - t1);\n      u3 = _j + _i;\n      bvirt = u3 - _j;\n      bctt[2] = _j - (u3 - bvirt) + (_i - bvirt);\n      bctt[3] = u3;\n      bcttlen = 4;\n    } else {\n      bct[0] = 0;\n      bctlen = 1;\n      bctt[0] = 0;\n      bcttlen = 1;\n    }\n\n    if (adxtail !== 0) {\n      var len = scale(bctlen, bct, adxtail, _16c);\n      finlen = finadd(finlen, sum(scale(axtbclen, axtbc, adxtail, _16), _16, scale(len, _16c, 2 * adx, _32), _32, _48), _48);\n      var len2 = scale(bcttlen, bctt, adxtail, _8);\n      finlen = finadd(finlen, sum_three(scale(len2, _8, 2 * adx, _16), _16, scale(len2, _8, adxtail, _16b), _16b, scale(len, _16c, adxtail, _32), _32, _32b, _64), _64);\n\n      if (bdytail !== 0) {\n        finlen = finadd(finlen, scale(scale(4, cc, adxtail, _8), _8, bdytail, _16), _16);\n      }\n\n      if (cdytail !== 0) {\n        finlen = finadd(finlen, scale(scale(4, bb, -adxtail, _8), _8, cdytail, _16), _16);\n      }\n    }\n\n    if (adytail !== 0) {\n      var _len = scale(bctlen, bct, adytail, _16c);\n\n      finlen = finadd(finlen, sum(scale(aytbclen, aytbc, adytail, _16), _16, scale(_len, _16c, 2 * ady, _32), _32, _48), _48);\n\n      var _len2 = scale(bcttlen, bctt, adytail, _8);\n\n      finlen = finadd(finlen, sum_three(scale(_len2, _8, 2 * ady, _16), _16, scale(_len2, _8, adytail, _16b), _16b, scale(_len, _16c, adytail, _32), _32, _32b, _64), _64);\n    }\n  }\n\n  if (bdxtail !== 0 || bdytail !== 0) {\n    if (cdxtail !== 0 || cdytail !== 0 || adxtail !== 0 || adytail !== 0) {\n      s1 = cdxtail * ady;\n      c = splitter * cdxtail;\n      ahi = c - (c - cdxtail);\n      alo = cdxtail - ahi;\n      c = splitter * ady;\n      bhi = c - (c - ady);\n      blo = ady - bhi;\n      s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n      t1 = cdx * adytail;\n      c = splitter * cdx;\n      ahi = c - (c - cdx);\n      alo = cdx - ahi;\n      c = splitter * adytail;\n      bhi = c - (c - adytail);\n      blo = adytail - bhi;\n      t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n      _i = s0 + t0;\n      bvirt = _i - s0;\n      u[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n      _j = s1 + _i;\n      bvirt = _j - s1;\n      _0 = s1 - (_j - bvirt) + (_i - bvirt);\n      _i = _0 + t1;\n      bvirt = _i - _0;\n      u[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n      u3 = _j + _i;\n      bvirt = u3 - _j;\n      u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n      u[3] = u3;\n      n1 = -cdy;\n      n0 = -cdytail;\n      s1 = adxtail * n1;\n      c = splitter * adxtail;\n      ahi = c - (c - adxtail);\n      alo = adxtail - ahi;\n      c = splitter * n1;\n      bhi = c - (c - n1);\n      blo = n1 - bhi;\n      s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n      t1 = adx * n0;\n      c = splitter * adx;\n      ahi = c - (c - adx);\n      alo = adx - ahi;\n      c = splitter * n0;\n      bhi = c - (c - n0);\n      blo = n0 - bhi;\n      t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n      _i = s0 + t0;\n      bvirt = _i - s0;\n      v[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n      _j = s1 + _i;\n      bvirt = _j - s1;\n      _0 = s1 - (_j - bvirt) + (_i - bvirt);\n      _i = _0 + t1;\n      bvirt = _i - _0;\n      v[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n      u3 = _j + _i;\n      bvirt = u3 - _j;\n      v[2] = _j - (u3 - bvirt) + (_i - bvirt);\n      v[3] = u3;\n      catlen = sum(4, u, 4, v, cat);\n      s1 = cdxtail * adytail;\n      c = splitter * cdxtail;\n      ahi = c - (c - cdxtail);\n      alo = cdxtail - ahi;\n      c = splitter * adytail;\n      bhi = c - (c - adytail);\n      blo = adytail - bhi;\n      s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n      t1 = adxtail * cdytail;\n      c = splitter * adxtail;\n      ahi = c - (c - adxtail);\n      alo = adxtail - ahi;\n      c = splitter * cdytail;\n      bhi = c - (c - cdytail);\n      blo = cdytail - bhi;\n      t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n      _i = s0 - t0;\n      bvirt = s0 - _i;\n      catt[0] = s0 - (_i + bvirt) + (bvirt - t0);\n      _j = s1 + _i;\n      bvirt = _j - s1;\n      _0 = s1 - (_j - bvirt) + (_i - bvirt);\n      _i = _0 - t1;\n      bvirt = _0 - _i;\n      catt[1] = _0 - (_i + bvirt) + (bvirt - t1);\n      u3 = _j + _i;\n      bvirt = u3 - _j;\n      catt[2] = _j - (u3 - bvirt) + (_i - bvirt);\n      catt[3] = u3;\n      cattlen = 4;\n    } else {\n      cat[0] = 0;\n      catlen = 1;\n      catt[0] = 0;\n      cattlen = 1;\n    }\n\n    if (bdxtail !== 0) {\n      var _len3 = scale(catlen, cat, bdxtail, _16c);\n\n      finlen = finadd(finlen, sum(scale(bxtcalen, bxtca, bdxtail, _16), _16, scale(_len3, _16c, 2 * bdx, _32), _32, _48), _48);\n\n      var _len4 = scale(cattlen, catt, bdxtail, _8);\n\n      finlen = finadd(finlen, sum_three(scale(_len4, _8, 2 * bdx, _16), _16, scale(_len4, _8, bdxtail, _16b), _16b, scale(_len3, _16c, bdxtail, _32), _32, _32b, _64), _64);\n\n      if (cdytail !== 0) {\n        finlen = finadd(finlen, scale(scale(4, aa, bdxtail, _8), _8, cdytail, _16), _16);\n      }\n\n      if (adytail !== 0) {\n        finlen = finadd(finlen, scale(scale(4, cc, -bdxtail, _8), _8, adytail, _16), _16);\n      }\n    }\n\n    if (bdytail !== 0) {\n      var _len5 = scale(catlen, cat, bdytail, _16c);\n\n      finlen = finadd(finlen, sum(scale(bytcalen, bytca, bdytail, _16), _16, scale(_len5, _16c, 2 * bdy, _32), _32, _48), _48);\n\n      var _len6 = scale(cattlen, catt, bdytail, _8);\n\n      finlen = finadd(finlen, sum_three(scale(_len6, _8, 2 * bdy, _16), _16, scale(_len6, _8, bdytail, _16b), _16b, scale(_len5, _16c, bdytail, _32), _32, _32b, _64), _64);\n    }\n  }\n\n  if (cdxtail !== 0 || cdytail !== 0) {\n    if (adxtail !== 0 || adytail !== 0 || bdxtail !== 0 || bdytail !== 0) {\n      s1 = adxtail * bdy;\n      c = splitter * adxtail;\n      ahi = c - (c - adxtail);\n      alo = adxtail - ahi;\n      c = splitter * bdy;\n      bhi = c - (c - bdy);\n      blo = bdy - bhi;\n      s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n      t1 = adx * bdytail;\n      c = splitter * adx;\n      ahi = c - (c - adx);\n      alo = adx - ahi;\n      c = splitter * bdytail;\n      bhi = c - (c - bdytail);\n      blo = bdytail - bhi;\n      t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n      _i = s0 + t0;\n      bvirt = _i - s0;\n      u[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n      _j = s1 + _i;\n      bvirt = _j - s1;\n      _0 = s1 - (_j - bvirt) + (_i - bvirt);\n      _i = _0 + t1;\n      bvirt = _i - _0;\n      u[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n      u3 = _j + _i;\n      bvirt = u3 - _j;\n      u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n      u[3] = u3;\n      n1 = -ady;\n      n0 = -adytail;\n      s1 = bdxtail * n1;\n      c = splitter * bdxtail;\n      ahi = c - (c - bdxtail);\n      alo = bdxtail - ahi;\n      c = splitter * n1;\n      bhi = c - (c - n1);\n      blo = n1 - bhi;\n      s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n      t1 = bdx * n0;\n      c = splitter * bdx;\n      ahi = c - (c - bdx);\n      alo = bdx - ahi;\n      c = splitter * n0;\n      bhi = c - (c - n0);\n      blo = n0 - bhi;\n      t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n      _i = s0 + t0;\n      bvirt = _i - s0;\n      v[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n      _j = s1 + _i;\n      bvirt = _j - s1;\n      _0 = s1 - (_j - bvirt) + (_i - bvirt);\n      _i = _0 + t1;\n      bvirt = _i - _0;\n      v[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n      u3 = _j + _i;\n      bvirt = u3 - _j;\n      v[2] = _j - (u3 - bvirt) + (_i - bvirt);\n      v[3] = u3;\n      abtlen = sum(4, u, 4, v, abt);\n      s1 = adxtail * bdytail;\n      c = splitter * adxtail;\n      ahi = c - (c - adxtail);\n      alo = adxtail - ahi;\n      c = splitter * bdytail;\n      bhi = c - (c - bdytail);\n      blo = bdytail - bhi;\n      s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n      t1 = bdxtail * adytail;\n      c = splitter * bdxtail;\n      ahi = c - (c - bdxtail);\n      alo = bdxtail - ahi;\n      c = splitter * adytail;\n      bhi = c - (c - adytail);\n      blo = adytail - bhi;\n      t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n      _i = s0 - t0;\n      bvirt = s0 - _i;\n      abtt[0] = s0 - (_i + bvirt) + (bvirt - t0);\n      _j = s1 + _i;\n      bvirt = _j - s1;\n      _0 = s1 - (_j - bvirt) + (_i - bvirt);\n      _i = _0 - t1;\n      bvirt = _0 - _i;\n      abtt[1] = _0 - (_i + bvirt) + (bvirt - t1);\n      u3 = _j + _i;\n      bvirt = u3 - _j;\n      abtt[2] = _j - (u3 - bvirt) + (_i - bvirt);\n      abtt[3] = u3;\n      abttlen = 4;\n    } else {\n      abt[0] = 0;\n      abtlen = 1;\n      abtt[0] = 0;\n      abttlen = 1;\n    }\n\n    if (cdxtail !== 0) {\n      var _len7 = scale(abtlen, abt, cdxtail, _16c);\n\n      finlen = finadd(finlen, sum(scale(cxtablen, cxtab, cdxtail, _16), _16, scale(_len7, _16c, 2 * cdx, _32), _32, _48), _48);\n\n      var _len8 = scale(abttlen, abtt, cdxtail, _8);\n\n      finlen = finadd(finlen, sum_three(scale(_len8, _8, 2 * cdx, _16), _16, scale(_len8, _8, cdxtail, _16b), _16b, scale(_len7, _16c, cdxtail, _32), _32, _32b, _64), _64);\n\n      if (adytail !== 0) {\n        finlen = finadd(finlen, scale(scale(4, bb, cdxtail, _8), _8, adytail, _16), _16);\n      }\n\n      if (bdytail !== 0) {\n        finlen = finadd(finlen, scale(scale(4, aa, -cdxtail, _8), _8, bdytail, _16), _16);\n      }\n    }\n\n    if (cdytail !== 0) {\n      var _len9 = scale(abtlen, abt, cdytail, _16c);\n\n      finlen = finadd(finlen, sum(scale(cytablen, cytab, cdytail, _16), _16, scale(_len9, _16c, 2 * cdy, _32), _32, _48), _48);\n\n      var _len10 = scale(abttlen, abtt, cdytail, _8);\n\n      finlen = finadd(finlen, sum_three(scale(_len10, _8, 2 * cdy, _16), _16, scale(_len10, _8, cdytail, _16b), _16b, scale(_len9, _16c, cdytail, _32), _32, _32b, _64), _64);\n    }\n  }\n\n  return fin[finlen - 1];\n}\n\nexport function incircle(ax, ay, bx, by, cx, cy, dx, dy) {\n  var adx = ax - dx;\n  var bdx = bx - dx;\n  var cdx = cx - dx;\n  var ady = ay - dy;\n  var bdy = by - dy;\n  var cdy = cy - dy;\n  var bdxcdy = bdx * cdy;\n  var cdxbdy = cdx * bdy;\n  var alift = adx * adx + ady * ady;\n  var cdxady = cdx * ady;\n  var adxcdy = adx * cdy;\n  var blift = bdx * bdx + bdy * bdy;\n  var adxbdy = adx * bdy;\n  var bdxady = bdx * ady;\n  var clift = cdx * cdx + cdy * cdy;\n  var det = alift * (bdxcdy - cdxbdy) + blift * (cdxady - adxcdy) + clift * (adxbdy - bdxady);\n  var permanent = (Math.abs(bdxcdy) + Math.abs(cdxbdy)) * alift + (Math.abs(cdxady) + Math.abs(adxcdy)) * blift + (Math.abs(adxbdy) + Math.abs(bdxady)) * clift;\n  var errbound = iccerrboundA * permanent;\n\n  if (det > errbound || -det > errbound) {\n    return det;\n  }\n\n  return incircleadapt(ax, ay, bx, by, cx, cy, dx, dy, permanent);\n}\nexport function incirclefast(ax, ay, bx, by, cx, cy, dx, dy) {\n  var adx = ax - dx;\n  var ady = ay - dy;\n  var bdx = bx - dx;\n  var bdy = by - dy;\n  var cdx = cx - dx;\n  var cdy = cy - dy;\n  var abdet = adx * bdy - bdx * ady;\n  var bcdet = bdx * cdy - cdx * bdy;\n  var cadet = cdx * ady - adx * cdy;\n  var alift = adx * adx + ady * ady;\n  var blift = bdx * bdx + bdy * bdy;\n  var clift = cdx * cdx + cdy * cdy;\n  return alift * bcdet + blift * cadet + clift * abdet;\n}","import { epsilon, splitter, resulterrbound, estimate, vec, sum, sum_three, scale, negate } from './util.js';\nvar isperrboundA = (16 + 224 * epsilon) * epsilon;\nvar isperrboundB = (5 + 72 * epsilon) * epsilon;\nvar isperrboundC = (71 + 1408 * epsilon) * epsilon * epsilon;\nvar ab = vec(4);\nvar bc = vec(4);\nvar cd = vec(4);\nvar de = vec(4);\nvar ea = vec(4);\nvar ac = vec(4);\nvar bd = vec(4);\nvar ce = vec(4);\nvar da = vec(4);\nvar eb = vec(4);\nvar abc = vec(24);\nvar bcd = vec(24);\nvar cde = vec(24);\nvar dea = vec(24);\nvar eab = vec(24);\nvar abd = vec(24);\nvar bce = vec(24);\nvar cda = vec(24);\nvar deb = vec(24);\nvar eac = vec(24);\nvar adet = vec(1152);\nvar bdet = vec(1152);\nvar cdet = vec(1152);\nvar ddet = vec(1152);\nvar edet = vec(1152);\nvar abdet = vec(2304);\nvar cddet = vec(2304);\nvar cdedet = vec(3456);\nvar deter = vec(5760);\n\nvar _8 = vec(8);\n\nvar _8b = vec(8);\n\nvar _8c = vec(8);\n\nvar _16 = vec(16);\n\nvar _24 = vec(24);\n\nvar _48 = vec(48);\n\nvar _48b = vec(48);\n\nvar _96 = vec(96);\n\nvar _192 = vec(192);\n\nvar _384x = vec(384);\n\nvar _384y = vec(384);\n\nvar _384z = vec(384);\n\nvar _768 = vec(768);\n\nfunction sum_three_scale(a, b, c, az, bz, cz, out) {\n  return sum_three(scale(4, a, az, _8), _8, scale(4, b, bz, _8b), _8b, scale(4, c, cz, _8c), _8c, _16, out);\n}\n\nfunction liftexact(alen, a, blen, b, clen, c, dlen, d, x, y, z, out) {\n  var len = sum(sum(alen, a, blen, b, _48), _48, negate(sum(clen, c, dlen, d, _48b), _48b), _48b, _96);\n  return sum_three(scale(scale(len, _96, x, _192), _192, x, _384x), _384x, scale(scale(len, _96, y, _192), _192, y, _384y), _384y, scale(scale(len, _96, z, _192), _192, z, _384z), _384z, _768, out);\n}\n\nfunction insphereexact(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez) {\n  var bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0, u3;\n\n  s1 = ax * by;\n  c = splitter * ax;\n  ahi = c - (c - ax);\n  alo = ax - ahi;\n  c = splitter * by;\n  bhi = c - (c - by);\n  blo = by - bhi;\n  s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n  t1 = bx * ay;\n  c = splitter * bx;\n  ahi = c - (c - bx);\n  alo = bx - ahi;\n  c = splitter * ay;\n  bhi = c - (c - ay);\n  blo = ay - bhi;\n  t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n  _i = s0 - t0;\n  bvirt = s0 - _i;\n  ab[0] = s0 - (_i + bvirt) + (bvirt - t0);\n  _j = s1 + _i;\n  bvirt = _j - s1;\n  _0 = s1 - (_j - bvirt) + (_i - bvirt);\n  _i = _0 - t1;\n  bvirt = _0 - _i;\n  ab[1] = _0 - (_i + bvirt) + (bvirt - t1);\n  u3 = _j + _i;\n  bvirt = u3 - _j;\n  ab[2] = _j - (u3 - bvirt) + (_i - bvirt);\n  ab[3] = u3;\n  s1 = bx * cy;\n  c = splitter * bx;\n  ahi = c - (c - bx);\n  alo = bx - ahi;\n  c = splitter * cy;\n  bhi = c - (c - cy);\n  blo = cy - bhi;\n  s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n  t1 = cx * by;\n  c = splitter * cx;\n  ahi = c - (c - cx);\n  alo = cx - ahi;\n  c = splitter * by;\n  bhi = c - (c - by);\n  blo = by - bhi;\n  t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n  _i = s0 - t0;\n  bvirt = s0 - _i;\n  bc[0] = s0 - (_i + bvirt) + (bvirt - t0);\n  _j = s1 + _i;\n  bvirt = _j - s1;\n  _0 = s1 - (_j - bvirt) + (_i - bvirt);\n  _i = _0 - t1;\n  bvirt = _0 - _i;\n  bc[1] = _0 - (_i + bvirt) + (bvirt - t1);\n  u3 = _j + _i;\n  bvirt = u3 - _j;\n  bc[2] = _j - (u3 - bvirt) + (_i - bvirt);\n  bc[3] = u3;\n  s1 = cx * dy;\n  c = splitter * cx;\n  ahi = c - (c - cx);\n  alo = cx - ahi;\n  c = splitter * dy;\n  bhi = c - (c - dy);\n  blo = dy - bhi;\n  s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n  t1 = dx * cy;\n  c = splitter * dx;\n  ahi = c - (c - dx);\n  alo = dx - ahi;\n  c = splitter * cy;\n  bhi = c - (c - cy);\n  blo = cy - bhi;\n  t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n  _i = s0 - t0;\n  bvirt = s0 - _i;\n  cd[0] = s0 - (_i + bvirt) + (bvirt - t0);\n  _j = s1 + _i;\n  bvirt = _j - s1;\n  _0 = s1 - (_j - bvirt) + (_i - bvirt);\n  _i = _0 - t1;\n  bvirt = _0 - _i;\n  cd[1] = _0 - (_i + bvirt) + (bvirt - t1);\n  u3 = _j + _i;\n  bvirt = u3 - _j;\n  cd[2] = _j - (u3 - bvirt) + (_i - bvirt);\n  cd[3] = u3;\n  s1 = dx * ey;\n  c = splitter * dx;\n  ahi = c - (c - dx);\n  alo = dx - ahi;\n  c = splitter * ey;\n  bhi = c - (c - ey);\n  blo = ey - bhi;\n  s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n  t1 = ex * dy;\n  c = splitter * ex;\n  ahi = c - (c - ex);\n  alo = ex - ahi;\n  c = splitter * dy;\n  bhi = c - (c - dy);\n  blo = dy - bhi;\n  t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n  _i = s0 - t0;\n  bvirt = s0 - _i;\n  de[0] = s0 - (_i + bvirt) + (bvirt - t0);\n  _j = s1 + _i;\n  bvirt = _j - s1;\n  _0 = s1 - (_j - bvirt) + (_i - bvirt);\n  _i = _0 - t1;\n  bvirt = _0 - _i;\n  de[1] = _0 - (_i + bvirt) + (bvirt - t1);\n  u3 = _j + _i;\n  bvirt = u3 - _j;\n  de[2] = _j - (u3 - bvirt) + (_i - bvirt);\n  de[3] = u3;\n  s1 = ex * ay;\n  c = splitter * ex;\n  ahi = c - (c - ex);\n  alo = ex - ahi;\n  c = splitter * ay;\n  bhi = c - (c - ay);\n  blo = ay - bhi;\n  s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n  t1 = ax * ey;\n  c = splitter * ax;\n  ahi = c - (c - ax);\n  alo = ax - ahi;\n  c = splitter * ey;\n  bhi = c - (c - ey);\n  blo = ey - bhi;\n  t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n  _i = s0 - t0;\n  bvirt = s0 - _i;\n  ea[0] = s0 - (_i + bvirt) + (bvirt - t0);\n  _j = s1 + _i;\n  bvirt = _j - s1;\n  _0 = s1 - (_j - bvirt) + (_i - bvirt);\n  _i = _0 - t1;\n  bvirt = _0 - _i;\n  ea[1] = _0 - (_i + bvirt) + (bvirt - t1);\n  u3 = _j + _i;\n  bvirt = u3 - _j;\n  ea[2] = _j - (u3 - bvirt) + (_i - bvirt);\n  ea[3] = u3;\n  s1 = ax * cy;\n  c = splitter * ax;\n  ahi = c - (c - ax);\n  alo = ax - ahi;\n  c = splitter * cy;\n  bhi = c - (c - cy);\n  blo = cy - bhi;\n  s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n  t1 = cx * ay;\n  c = splitter * cx;\n  ahi = c - (c - cx);\n  alo = cx - ahi;\n  c = splitter * ay;\n  bhi = c - (c - ay);\n  blo = ay - bhi;\n  t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n  _i = s0 - t0;\n  bvirt = s0 - _i;\n  ac[0] = s0 - (_i + bvirt) + (bvirt - t0);\n  _j = s1 + _i;\n  bvirt = _j - s1;\n  _0 = s1 - (_j - bvirt) + (_i - bvirt);\n  _i = _0 - t1;\n  bvirt = _0 - _i;\n  ac[1] = _0 - (_i + bvirt) + (bvirt - t1);\n  u3 = _j + _i;\n  bvirt = u3 - _j;\n  ac[2] = _j - (u3 - bvirt) + (_i - bvirt);\n  ac[3] = u3;\n  s1 = bx * dy;\n  c = splitter * bx;\n  ahi = c - (c - bx);\n  alo = bx - ahi;\n  c = splitter * dy;\n  bhi = c - (c - dy);\n  blo = dy - bhi;\n  s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n  t1 = dx * by;\n  c = splitter * dx;\n  ahi = c - (c - dx);\n  alo = dx - ahi;\n  c = splitter * by;\n  bhi = c - (c - by);\n  blo = by - bhi;\n  t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n  _i = s0 - t0;\n  bvirt = s0 - _i;\n  bd[0] = s0 - (_i + bvirt) + (bvirt - t0);\n  _j = s1 + _i;\n  bvirt = _j - s1;\n  _0 = s1 - (_j - bvirt) + (_i - bvirt);\n  _i = _0 - t1;\n  bvirt = _0 - _i;\n  bd[1] = _0 - (_i + bvirt) + (bvirt - t1);\n  u3 = _j + _i;\n  bvirt = u3 - _j;\n  bd[2] = _j - (u3 - bvirt) + (_i - bvirt);\n  bd[3] = u3;\n  s1 = cx * ey;\n  c = splitter * cx;\n  ahi = c - (c - cx);\n  alo = cx - ahi;\n  c = splitter * ey;\n  bhi = c - (c - ey);\n  blo = ey - bhi;\n  s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n  t1 = ex * cy;\n  c = splitter * ex;\n  ahi = c - (c - ex);\n  alo = ex - ahi;\n  c = splitter * cy;\n  bhi = c - (c - cy);\n  blo = cy - bhi;\n  t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n  _i = s0 - t0;\n  bvirt = s0 - _i;\n  ce[0] = s0 - (_i + bvirt) + (bvirt - t0);\n  _j = s1 + _i;\n  bvirt = _j - s1;\n  _0 = s1 - (_j - bvirt) + (_i - bvirt);\n  _i = _0 - t1;\n  bvirt = _0 - _i;\n  ce[1] = _0 - (_i + bvirt) + (bvirt - t1);\n  u3 = _j + _i;\n  bvirt = u3 - _j;\n  ce[2] = _j - (u3 - bvirt) + (_i - bvirt);\n  ce[3] = u3;\n  s1 = dx * ay;\n  c = splitter * dx;\n  ahi = c - (c - dx);\n  alo = dx - ahi;\n  c = splitter * ay;\n  bhi = c - (c - ay);\n  blo = ay - bhi;\n  s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n  t1 = ax * dy;\n  c = splitter * ax;\n  ahi = c - (c - ax);\n  alo = ax - ahi;\n  c = splitter * dy;\n  bhi = c - (c - dy);\n  blo = dy - bhi;\n  t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n  _i = s0 - t0;\n  bvirt = s0 - _i;\n  da[0] = s0 - (_i + bvirt) + (bvirt - t0);\n  _j = s1 + _i;\n  bvirt = _j - s1;\n  _0 = s1 - (_j - bvirt) + (_i - bvirt);\n  _i = _0 - t1;\n  bvirt = _0 - _i;\n  da[1] = _0 - (_i + bvirt) + (bvirt - t1);\n  u3 = _j + _i;\n  bvirt = u3 - _j;\n  da[2] = _j - (u3 - bvirt) + (_i - bvirt);\n  da[3] = u3;\n  s1 = ex * by;\n  c = splitter * ex;\n  ahi = c - (c - ex);\n  alo = ex - ahi;\n  c = splitter * by;\n  bhi = c - (c - by);\n  blo = by - bhi;\n  s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n  t1 = bx * ey;\n  c = splitter * bx;\n  ahi = c - (c - bx);\n  alo = bx - ahi;\n  c = splitter * ey;\n  bhi = c - (c - ey);\n  blo = ey - bhi;\n  t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n  _i = s0 - t0;\n  bvirt = s0 - _i;\n  eb[0] = s0 - (_i + bvirt) + (bvirt - t0);\n  _j = s1 + _i;\n  bvirt = _j - s1;\n  _0 = s1 - (_j - bvirt) + (_i - bvirt);\n  _i = _0 - t1;\n  bvirt = _0 - _i;\n  eb[1] = _0 - (_i + bvirt) + (bvirt - t1);\n  u3 = _j + _i;\n  bvirt = u3 - _j;\n  eb[2] = _j - (u3 - bvirt) + (_i - bvirt);\n  eb[3] = u3;\n  var abclen = sum_three_scale(ab, bc, ac, cz, az, -bz, abc);\n  var bcdlen = sum_three_scale(bc, cd, bd, dz, bz, -cz, bcd);\n  var cdelen = sum_three_scale(cd, de, ce, ez, cz, -dz, cde);\n  var dealen = sum_three_scale(de, ea, da, az, dz, -ez, dea);\n  var eablen = sum_three_scale(ea, ab, eb, bz, ez, -az, eab);\n  var abdlen = sum_three_scale(ab, bd, da, dz, az, bz, abd);\n  var bcelen = sum_three_scale(bc, ce, eb, ez, bz, cz, bce);\n  var cdalen = sum_three_scale(cd, da, ac, az, cz, dz, cda);\n  var deblen = sum_three_scale(de, eb, bd, bz, dz, ez, deb);\n  var eaclen = sum_three_scale(ea, ac, ce, cz, ez, az, eac);\n  var deterlen = sum_three(liftexact(cdelen, cde, bcelen, bce, deblen, deb, bcdlen, bcd, ax, ay, az, adet), adet, liftexact(dealen, dea, cdalen, cda, eaclen, eac, cdelen, cde, bx, by, bz, bdet), bdet, sum_three(liftexact(eablen, eab, deblen, deb, abdlen, abd, dealen, dea, cx, cy, cz, cdet), cdet, liftexact(abclen, abc, eaclen, eac, bcelen, bce, eablen, eab, dx, dy, dz, ddet), ddet, liftexact(bcdlen, bcd, abdlen, abd, cdalen, cda, abclen, abc, ex, ey, ez, edet), edet, cddet, cdedet), cdedet, abdet, deter);\n  return deter[deterlen - 1];\n}\n\nvar xdet = vec(96);\nvar ydet = vec(96);\nvar zdet = vec(96);\nvar fin = vec(1152);\n\nfunction liftadapt(a, b, c, az, bz, cz, x, y, z, out) {\n  var len = sum_three_scale(a, b, c, az, bz, cz, _24);\n  return sum_three(scale(scale(len, _24, x, _48), _48, x, xdet), xdet, scale(scale(len, _24, y, _48), _48, y, ydet), ydet, scale(scale(len, _24, z, _48), _48, z, zdet), zdet, _192, out);\n}\n\nfunction insphereadapt(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez, permanent) {\n  var ab3, bc3, cd3, da3, ac3, bd3;\n  var aextail, bextail, cextail, dextail;\n  var aeytail, beytail, ceytail, deytail;\n  var aeztail, beztail, ceztail, deztail;\n\n  var bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0;\n\n  var aex = ax - ex;\n  var bex = bx - ex;\n  var cex = cx - ex;\n  var dex = dx - ex;\n  var aey = ay - ey;\n  var bey = by - ey;\n  var cey = cy - ey;\n  var dey = dy - ey;\n  var aez = az - ez;\n  var bez = bz - ez;\n  var cez = cz - ez;\n  var dez = dz - ez;\n  s1 = aex * bey;\n  c = splitter * aex;\n  ahi = c - (c - aex);\n  alo = aex - ahi;\n  c = splitter * bey;\n  bhi = c - (c - bey);\n  blo = bey - bhi;\n  s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n  t1 = bex * aey;\n  c = splitter * bex;\n  ahi = c - (c - bex);\n  alo = bex - ahi;\n  c = splitter * aey;\n  bhi = c - (c - aey);\n  blo = aey - bhi;\n  t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n  _i = s0 - t0;\n  bvirt = s0 - _i;\n  ab[0] = s0 - (_i + bvirt) + (bvirt - t0);\n  _j = s1 + _i;\n  bvirt = _j - s1;\n  _0 = s1 - (_j - bvirt) + (_i - bvirt);\n  _i = _0 - t1;\n  bvirt = _0 - _i;\n  ab[1] = _0 - (_i + bvirt) + (bvirt - t1);\n  ab3 = _j + _i;\n  bvirt = ab3 - _j;\n  ab[2] = _j - (ab3 - bvirt) + (_i - bvirt);\n  ab[3] = ab3;\n  s1 = bex * cey;\n  c = splitter * bex;\n  ahi = c - (c - bex);\n  alo = bex - ahi;\n  c = splitter * cey;\n  bhi = c - (c - cey);\n  blo = cey - bhi;\n  s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n  t1 = cex * bey;\n  c = splitter * cex;\n  ahi = c - (c - cex);\n  alo = cex - ahi;\n  c = splitter * bey;\n  bhi = c - (c - bey);\n  blo = bey - bhi;\n  t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n  _i = s0 - t0;\n  bvirt = s0 - _i;\n  bc[0] = s0 - (_i + bvirt) + (bvirt - t0);\n  _j = s1 + _i;\n  bvirt = _j - s1;\n  _0 = s1 - (_j - bvirt) + (_i - bvirt);\n  _i = _0 - t1;\n  bvirt = _0 - _i;\n  bc[1] = _0 - (_i + bvirt) + (bvirt - t1);\n  bc3 = _j + _i;\n  bvirt = bc3 - _j;\n  bc[2] = _j - (bc3 - bvirt) + (_i - bvirt);\n  bc[3] = bc3;\n  s1 = cex * dey;\n  c = splitter * cex;\n  ahi = c - (c - cex);\n  alo = cex - ahi;\n  c = splitter * dey;\n  bhi = c - (c - dey);\n  blo = dey - bhi;\n  s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n  t1 = dex * cey;\n  c = splitter * dex;\n  ahi = c - (c - dex);\n  alo = dex - ahi;\n  c = splitter * cey;\n  bhi = c - (c - cey);\n  blo = cey - bhi;\n  t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n  _i = s0 - t0;\n  bvirt = s0 - _i;\n  cd[0] = s0 - (_i + bvirt) + (bvirt - t0);\n  _j = s1 + _i;\n  bvirt = _j - s1;\n  _0 = s1 - (_j - bvirt) + (_i - bvirt);\n  _i = _0 - t1;\n  bvirt = _0 - _i;\n  cd[1] = _0 - (_i + bvirt) + (bvirt - t1);\n  cd3 = _j + _i;\n  bvirt = cd3 - _j;\n  cd[2] = _j - (cd3 - bvirt) + (_i - bvirt);\n  cd[3] = cd3;\n  s1 = dex * aey;\n  c = splitter * dex;\n  ahi = c - (c - dex);\n  alo = dex - ahi;\n  c = splitter * aey;\n  bhi = c - (c - aey);\n  blo = aey - bhi;\n  s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n  t1 = aex * dey;\n  c = splitter * aex;\n  ahi = c - (c - aex);\n  alo = aex - ahi;\n  c = splitter * dey;\n  bhi = c - (c - dey);\n  blo = dey - bhi;\n  t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n  _i = s0 - t0;\n  bvirt = s0 - _i;\n  da[0] = s0 - (_i + bvirt) + (bvirt - t0);\n  _j = s1 + _i;\n  bvirt = _j - s1;\n  _0 = s1 - (_j - bvirt) + (_i - bvirt);\n  _i = _0 - t1;\n  bvirt = _0 - _i;\n  da[1] = _0 - (_i + bvirt) + (bvirt - t1);\n  da3 = _j + _i;\n  bvirt = da3 - _j;\n  da[2] = _j - (da3 - bvirt) + (_i - bvirt);\n  da[3] = da3;\n  s1 = aex * cey;\n  c = splitter * aex;\n  ahi = c - (c - aex);\n  alo = aex - ahi;\n  c = splitter * cey;\n  bhi = c - (c - cey);\n  blo = cey - bhi;\n  s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n  t1 = cex * aey;\n  c = splitter * cex;\n  ahi = c - (c - cex);\n  alo = cex - ahi;\n  c = splitter * aey;\n  bhi = c - (c - aey);\n  blo = aey - bhi;\n  t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n  _i = s0 - t0;\n  bvirt = s0 - _i;\n  ac[0] = s0 - (_i + bvirt) + (bvirt - t0);\n  _j = s1 + _i;\n  bvirt = _j - s1;\n  _0 = s1 - (_j - bvirt) + (_i - bvirt);\n  _i = _0 - t1;\n  bvirt = _0 - _i;\n  ac[1] = _0 - (_i + bvirt) + (bvirt - t1);\n  ac3 = _j + _i;\n  bvirt = ac3 - _j;\n  ac[2] = _j - (ac3 - bvirt) + (_i - bvirt);\n  ac[3] = ac3;\n  s1 = bex * dey;\n  c = splitter * bex;\n  ahi = c - (c - bex);\n  alo = bex - ahi;\n  c = splitter * dey;\n  bhi = c - (c - dey);\n  blo = dey - bhi;\n  s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n  t1 = dex * bey;\n  c = splitter * dex;\n  ahi = c - (c - dex);\n  alo = dex - ahi;\n  c = splitter * bey;\n  bhi = c - (c - bey);\n  blo = bey - bhi;\n  t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n  _i = s0 - t0;\n  bvirt = s0 - _i;\n  bd[0] = s0 - (_i + bvirt) + (bvirt - t0);\n  _j = s1 + _i;\n  bvirt = _j - s1;\n  _0 = s1 - (_j - bvirt) + (_i - bvirt);\n  _i = _0 - t1;\n  bvirt = _0 - _i;\n  bd[1] = _0 - (_i + bvirt) + (bvirt - t1);\n  bd3 = _j + _i;\n  bvirt = bd3 - _j;\n  bd[2] = _j - (bd3 - bvirt) + (_i - bvirt);\n  bd[3] = bd3;\n  var finlen = sum(sum(negate(liftadapt(bc, cd, bd, dez, bez, -cez, aex, aey, aez, adet), adet), adet, liftadapt(cd, da, ac, aez, cez, dez, bex, bey, bez, bdet), bdet, abdet), abdet, sum(negate(liftadapt(da, ab, bd, bez, dez, aez, cex, cey, cez, cdet), cdet), cdet, liftadapt(ab, bc, ac, cez, aez, -bez, dex, dey, dez, ddet), ddet, cddet), cddet, fin);\n  var det = estimate(finlen, fin);\n  var errbound = isperrboundB * permanent;\n\n  if (det >= errbound || -det >= errbound) {\n    return det;\n  }\n\n  bvirt = ax - aex;\n  aextail = ax - (aex + bvirt) + (bvirt - ex);\n  bvirt = ay - aey;\n  aeytail = ay - (aey + bvirt) + (bvirt - ey);\n  bvirt = az - aez;\n  aeztail = az - (aez + bvirt) + (bvirt - ez);\n  bvirt = bx - bex;\n  bextail = bx - (bex + bvirt) + (bvirt - ex);\n  bvirt = by - bey;\n  beytail = by - (bey + bvirt) + (bvirt - ey);\n  bvirt = bz - bez;\n  beztail = bz - (bez + bvirt) + (bvirt - ez);\n  bvirt = cx - cex;\n  cextail = cx - (cex + bvirt) + (bvirt - ex);\n  bvirt = cy - cey;\n  ceytail = cy - (cey + bvirt) + (bvirt - ey);\n  bvirt = cz - cez;\n  ceztail = cz - (cez + bvirt) + (bvirt - ez);\n  bvirt = dx - dex;\n  dextail = dx - (dex + bvirt) + (bvirt - ex);\n  bvirt = dy - dey;\n  deytail = dy - (dey + bvirt) + (bvirt - ey);\n  bvirt = dz - dez;\n  deztail = dz - (dez + bvirt) + (bvirt - ez);\n\n  if (aextail === 0 && aeytail === 0 && aeztail === 0 && bextail === 0 && beytail === 0 && beztail === 0 && cextail === 0 && ceytail === 0 && ceztail === 0 && dextail === 0 && deytail === 0 && deztail === 0) {\n    return det;\n  }\n\n  errbound = isperrboundC * permanent + resulterrbound * Math.abs(det);\n  var abeps = aex * beytail + bey * aextail - (aey * bextail + bex * aeytail);\n  var bceps = bex * ceytail + cey * bextail - (bey * cextail + cex * beytail);\n  var cdeps = cex * deytail + dey * cextail - (cey * dextail + dex * ceytail);\n  var daeps = dex * aeytail + aey * dextail - (dey * aextail + aex * deytail);\n  var aceps = aex * ceytail + cey * aextail - (aey * cextail + cex * aeytail);\n  var bdeps = bex * deytail + dey * bextail - (bey * dextail + dex * beytail);\n  det += (bex * bex + bey * bey + bez * bez) * (cez * daeps + dez * aceps + aez * cdeps + (ceztail * da3 + deztail * ac3 + aeztail * cd3)) + (dex * dex + dey * dey + dez * dez) * (aez * bceps - bez * aceps + cez * abeps + (aeztail * bc3 - beztail * ac3 + ceztail * ab3)) - ((aex * aex + aey * aey + aez * aez) * (bez * cdeps - cez * bdeps + dez * bceps + (beztail * cd3 - ceztail * bd3 + deztail * bc3)) + (cex * cex + cey * cey + cez * cez) * (dez * abeps + aez * bdeps + bez * daeps + (deztail * ab3 + aeztail * bd3 + beztail * da3))) + 2 * ((bex * bextail + bey * beytail + bez * beztail) * (cez * da3 + dez * ac3 + aez * cd3) + (dex * dextail + dey * deytail + dez * deztail) * (aez * bc3 - bez * ac3 + cez * ab3) - ((aex * aextail + aey * aeytail + aez * aeztail) * (bez * cd3 - cez * bd3 + dez * bc3) + (cex * cextail + cey * ceytail + cez * ceztail) * (dez * ab3 + aez * bd3 + bez * da3)));\n\n  if (det >= errbound || -det >= errbound) {\n    return det;\n  }\n\n  return insphereexact(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez);\n}\n\nexport function insphere(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez) {\n  var aex = ax - ex;\n  var bex = bx - ex;\n  var cex = cx - ex;\n  var dex = dx - ex;\n  var aey = ay - ey;\n  var bey = by - ey;\n  var cey = cy - ey;\n  var dey = dy - ey;\n  var aez = az - ez;\n  var bez = bz - ez;\n  var cez = cz - ez;\n  var dez = dz - ez;\n  var aexbey = aex * bey;\n  var bexaey = bex * aey;\n  var ab = aexbey - bexaey;\n  var bexcey = bex * cey;\n  var cexbey = cex * bey;\n  var bc = bexcey - cexbey;\n  var cexdey = cex * dey;\n  var dexcey = dex * cey;\n  var cd = cexdey - dexcey;\n  var dexaey = dex * aey;\n  var aexdey = aex * dey;\n  var da = dexaey - aexdey;\n  var aexcey = aex * cey;\n  var cexaey = cex * aey;\n  var ac = aexcey - cexaey;\n  var bexdey = bex * dey;\n  var dexbey = dex * bey;\n  var bd = bexdey - dexbey;\n  var abc = aez * bc - bez * ac + cez * ab;\n  var bcd = bez * cd - cez * bd + dez * bc;\n  var cda = cez * da + dez * ac + aez * cd;\n  var dab = dez * ab + aez * bd + bez * da;\n  var alift = aex * aex + aey * aey + aez * aez;\n  var blift = bex * bex + bey * bey + bez * bez;\n  var clift = cex * cex + cey * cey + cez * cez;\n  var dlift = dex * dex + dey * dey + dez * dez;\n  var det = clift * dab - dlift * abc + (alift * bcd - blift * cda);\n  var aezplus = Math.abs(aez);\n  var bezplus = Math.abs(bez);\n  var cezplus = Math.abs(cez);\n  var dezplus = Math.abs(dez);\n  var aexbeyplus = Math.abs(aexbey);\n  var bexaeyplus = Math.abs(bexaey);\n  var bexceyplus = Math.abs(bexcey);\n  var cexbeyplus = Math.abs(cexbey);\n  var cexdeyplus = Math.abs(cexdey);\n  var dexceyplus = Math.abs(dexcey);\n  var dexaeyplus = Math.abs(dexaey);\n  var aexdeyplus = Math.abs(aexdey);\n  var aexceyplus = Math.abs(aexcey);\n  var cexaeyplus = Math.abs(cexaey);\n  var bexdeyplus = Math.abs(bexdey);\n  var dexbeyplus = Math.abs(dexbey);\n  var permanent = ((cexdeyplus + dexceyplus) * bezplus + (dexbeyplus + bexdeyplus) * cezplus + (bexceyplus + cexbeyplus) * dezplus) * alift + ((dexaeyplus + aexdeyplus) * cezplus + (aexceyplus + cexaeyplus) * dezplus + (cexdeyplus + dexceyplus) * aezplus) * blift + ((aexbeyplus + bexaeyplus) * dezplus + (bexdeyplus + dexbeyplus) * aezplus + (dexaeyplus + aexdeyplus) * bezplus) * clift + ((bexceyplus + cexbeyplus) * aezplus + (cexaeyplus + aexceyplus) * bezplus + (aexbeyplus + bexaeyplus) * cezplus) * dlift;\n  var errbound = isperrboundA * permanent;\n\n  if (det > errbound || -det > errbound) {\n    return det;\n  }\n\n  return -insphereadapt(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez, permanent);\n}\nexport function inspherefast(pax, pay, paz, pbx, pby, pbz, pcx, pcy, pcz, pdx, pdy, pdz, pex, pey, pez) {\n  var aex = pax - pex;\n  var bex = pbx - pex;\n  var cex = pcx - pex;\n  var dex = pdx - pex;\n  var aey = pay - pey;\n  var bey = pby - pey;\n  var cey = pcy - pey;\n  var dey = pdy - pey;\n  var aez = paz - pez;\n  var bez = pbz - pez;\n  var cez = pcz - pez;\n  var dez = pdz - pez;\n  var ab = aex * bey - bex * aey;\n  var bc = bex * cey - cex * bey;\n  var cd = cex * dey - dex * cey;\n  var da = dex * aey - aex * dey;\n  var ac = aex * cey - cex * aey;\n  var bd = bex * dey - dex * bey;\n  var abc = aez * bc - bez * ac + cez * ab;\n  var bcd = bez * cd - cez * bd + dez * bc;\n  var cda = cez * da + dez * ac + aez * cd;\n  var dab = dez * ab + aez * bd + bez * da;\n  var alift = aex * aex + aey * aey + aez * aez;\n  var blift = bex * bex + bey * bey + bez * bez;\n  var clift = cex * cex + cey * cey + cez * cez;\n  var dlift = dex * dex + dey * dey + dez * dez;\n  return clift * dab - dlift * abc + (alift * bcd - blift * cda);\n}","import _classCallCheck from \"/Users/baumzeit/Code/voronoi-shopping/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/baumzeit/Code/voronoi-shopping/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nvar EPSILON = Math.pow(2, -52);\nvar EDGE_STACK = new Uint32Array(512);\nimport { orient2d } from 'robust-predicates';\n\nvar Delaunator = /*#__PURE__*/function () {\n  function Delaunator(coords) {\n    _classCallCheck(this, Delaunator);\n\n    var n = coords.length >> 1;\n    if (n > 0 && typeof coords[0] !== 'number') throw new Error('Expected coords to contain numbers.');\n    this.coords = coords; // arrays that will store the triangulation graph\n\n    var maxTriangles = Math.max(2 * n - 5, 0);\n    this._triangles = new Uint32Array(maxTriangles * 3);\n    this._halfedges = new Int32Array(maxTriangles * 3); // temporary arrays for tracking the edges of the advancing convex hull\n\n    this._hashSize = Math.ceil(Math.sqrt(n));\n    this._hullPrev = new Uint32Array(n); // edge to prev edge\n\n    this._hullNext = new Uint32Array(n); // edge to next edge\n\n    this._hullTri = new Uint32Array(n); // edge to adjacent triangle\n\n    this._hullHash = new Int32Array(this._hashSize).fill(-1); // angular edge hash\n    // temporary arrays for sorting points\n\n    this._ids = new Uint32Array(n);\n    this._dists = new Float64Array(n);\n    this.update();\n  }\n\n  _createClass(Delaunator, [{\n    key: \"update\",\n    value: function update() {\n      var coords = this.coords,\n          hullPrev = this._hullPrev,\n          hullNext = this._hullNext,\n          hullTri = this._hullTri,\n          hullHash = this._hullHash;\n      var n = coords.length >> 1; // populate an array of point indices; calculate input data bbox\n\n      var minX = Infinity;\n      var minY = Infinity;\n      var maxX = -Infinity;\n      var maxY = -Infinity;\n\n      for (var i = 0; i < n; i++) {\n        var x = coords[2 * i];\n        var y = coords[2 * i + 1];\n        if (x < minX) minX = x;\n        if (y < minY) minY = y;\n        if (x > maxX) maxX = x;\n        if (y > maxY) maxY = y;\n        this._ids[i] = i;\n      }\n\n      var cx = (minX + maxX) / 2;\n      var cy = (minY + maxY) / 2;\n      var minDist = Infinity;\n      var i0, i1, i2; // pick a seed point close to the center\n\n      for (var _i = 0; _i < n; _i++) {\n        var d = dist(cx, cy, coords[2 * _i], coords[2 * _i + 1]);\n\n        if (d < minDist) {\n          i0 = _i;\n          minDist = d;\n        }\n      }\n\n      var i0x = coords[2 * i0];\n      var i0y = coords[2 * i0 + 1];\n      minDist = Infinity; // find the point closest to the seed\n\n      for (var _i2 = 0; _i2 < n; _i2++) {\n        if (_i2 === i0) continue;\n\n        var _d = dist(i0x, i0y, coords[2 * _i2], coords[2 * _i2 + 1]);\n\n        if (_d < minDist && _d > 0) {\n          i1 = _i2;\n          minDist = _d;\n        }\n      }\n\n      var i1x = coords[2 * i1];\n      var i1y = coords[2 * i1 + 1];\n      var minRadius = Infinity; // find the third point which forms the smallest circumcircle with the first two\n\n      for (var _i3 = 0; _i3 < n; _i3++) {\n        if (_i3 === i0 || _i3 === i1) continue;\n        var r = circumradius(i0x, i0y, i1x, i1y, coords[2 * _i3], coords[2 * _i3 + 1]);\n\n        if (r < minRadius) {\n          i2 = _i3;\n          minRadius = r;\n        }\n      }\n\n      var i2x = coords[2 * i2];\n      var i2y = coords[2 * i2 + 1];\n\n      if (minRadius === Infinity) {\n        // order collinear points by dx (or dy if all x are identical)\n        // and return the list as a hull\n        for (var _i4 = 0; _i4 < n; _i4++) {\n          this._dists[_i4] = coords[2 * _i4] - coords[0] || coords[2 * _i4 + 1] - coords[1];\n        }\n\n        quicksort(this._ids, this._dists, 0, n - 1);\n        var hull = new Uint32Array(n);\n        var j = 0;\n\n        for (var _i5 = 0, d0 = -Infinity; _i5 < n; _i5++) {\n          var id = this._ids[_i5];\n\n          if (this._dists[id] > d0) {\n            hull[j++] = id;\n            d0 = this._dists[id];\n          }\n        }\n\n        this.hull = hull.subarray(0, j);\n        this.triangles = new Uint32Array(0);\n        this.halfedges = new Uint32Array(0);\n        return;\n      } // swap the order of the seed points for counter-clockwise orientation\n\n\n      if (orient2d(i0x, i0y, i1x, i1y, i2x, i2y) < 0) {\n        var _i6 = i1;\n        var _x = i1x;\n        var _y = i1y;\n        i1 = i2;\n        i1x = i2x;\n        i1y = i2y;\n        i2 = _i6;\n        i2x = _x;\n        i2y = _y;\n      }\n\n      var center = circumcenter(i0x, i0y, i1x, i1y, i2x, i2y);\n      this._cx = center.x;\n      this._cy = center.y;\n\n      for (var _i7 = 0; _i7 < n; _i7++) {\n        this._dists[_i7] = dist(coords[2 * _i7], coords[2 * _i7 + 1], center.x, center.y);\n      } // sort the points by distance from the seed triangle circumcenter\n\n\n      quicksort(this._ids, this._dists, 0, n - 1); // set up the seed triangle as the starting hull\n\n      this._hullStart = i0;\n      var hullSize = 3;\n      hullNext[i0] = hullPrev[i2] = i1;\n      hullNext[i1] = hullPrev[i0] = i2;\n      hullNext[i2] = hullPrev[i1] = i0;\n      hullTri[i0] = 0;\n      hullTri[i1] = 1;\n      hullTri[i2] = 2;\n      hullHash.fill(-1);\n      hullHash[this._hashKey(i0x, i0y)] = i0;\n      hullHash[this._hashKey(i1x, i1y)] = i1;\n      hullHash[this._hashKey(i2x, i2y)] = i2;\n      this.trianglesLen = 0;\n\n      this._addTriangle(i0, i1, i2, -1, -1, -1);\n\n      for (var k = 0, xp, yp; k < this._ids.length; k++) {\n        var _i8 = this._ids[k];\n        var _x2 = coords[2 * _i8];\n        var _y2 = coords[2 * _i8 + 1]; // skip near-duplicate points\n\n        if (k > 0 && Math.abs(_x2 - xp) <= EPSILON && Math.abs(_y2 - yp) <= EPSILON) continue;\n        xp = _x2;\n        yp = _y2; // skip seed triangle points\n\n        if (_i8 === i0 || _i8 === i1 || _i8 === i2) continue; // find a visible edge on the convex hull using edge hash\n\n        var start = 0;\n\n        for (var _j = 0, key = this._hashKey(_x2, _y2); _j < this._hashSize; _j++) {\n          start = hullHash[(key + _j) % this._hashSize];\n          if (start !== -1 && start !== hullNext[start]) break;\n        }\n\n        start = hullPrev[start];\n        var e = start,\n            q = void 0;\n\n        while (q = hullNext[e], orient2d(_x2, _y2, coords[2 * e], coords[2 * e + 1], coords[2 * q], coords[2 * q + 1]) >= 0) {\n          e = q;\n\n          if (e === start) {\n            e = -1;\n            break;\n          }\n        }\n\n        if (e === -1) continue; // likely a near-duplicate point; skip it\n        // add the first triangle from the point\n\n        var t = this._addTriangle(e, _i8, hullNext[e], -1, -1, hullTri[e]); // recursively flip triangles from the point until they satisfy the Delaunay condition\n\n\n        hullTri[_i8] = this._legalize(t + 2);\n        hullTri[e] = t; // keep track of boundary triangles on the hull\n\n        hullSize++; // walk forward through the hull, adding more triangles and flipping recursively\n\n        var _n = hullNext[e];\n\n        while (q = hullNext[_n], orient2d(_x2, _y2, coords[2 * _n], coords[2 * _n + 1], coords[2 * q], coords[2 * q + 1]) < 0) {\n          t = this._addTriangle(_n, _i8, q, hullTri[_i8], -1, hullTri[_n]);\n          hullTri[_i8] = this._legalize(t + 2);\n          hullNext[_n] = _n; // mark as removed\n\n          hullSize--;\n          _n = q;\n        } // walk backward from the other side, adding more triangles and flipping\n\n\n        if (e === start) {\n          while (q = hullPrev[e], orient2d(_x2, _y2, coords[2 * q], coords[2 * q + 1], coords[2 * e], coords[2 * e + 1]) < 0) {\n            t = this._addTriangle(q, _i8, e, -1, hullTri[e], hullTri[q]);\n\n            this._legalize(t + 2);\n\n            hullTri[q] = t;\n            hullNext[e] = e; // mark as removed\n\n            hullSize--;\n            e = q;\n          }\n        } // update the hull indices\n\n\n        this._hullStart = hullPrev[_i8] = e;\n        hullNext[e] = hullPrev[_n] = _i8;\n        hullNext[_i8] = _n; // save the two new edges in the hash table\n\n        hullHash[this._hashKey(_x2, _y2)] = _i8;\n        hullHash[this._hashKey(coords[2 * e], coords[2 * e + 1])] = e;\n      }\n\n      this.hull = new Uint32Array(hullSize);\n\n      for (var _i9 = 0, _e = this._hullStart; _i9 < hullSize; _i9++) {\n        this.hull[_i9] = _e;\n        _e = hullNext[_e];\n      } // trim typed triangle mesh arrays\n\n\n      this.triangles = this._triangles.subarray(0, this.trianglesLen);\n      this.halfedges = this._halfedges.subarray(0, this.trianglesLen);\n    }\n  }, {\n    key: \"_hashKey\",\n    value: function _hashKey(x, y) {\n      return Math.floor(pseudoAngle(x - this._cx, y - this._cy) * this._hashSize) % this._hashSize;\n    }\n  }, {\n    key: \"_legalize\",\n    value: function _legalize(a) {\n      var triangles = this._triangles,\n          halfedges = this._halfedges,\n          coords = this.coords;\n      var i = 0;\n      var ar = 0; // recursion eliminated with a fixed-size stack\n\n      while (true) {\n        var b = halfedges[a];\n        /* if the pair of triangles doesn't satisfy the Delaunay condition\n         * (p1 is inside the circumcircle of [p0, pl, pr]), flip them,\n         * then do the same check/flip recursively for the new pair of triangles\n         *\n         *           pl                    pl\n         *          /||\\                  /  \\\n         *       al/ || \\bl            al/    \\a\n         *        /  ||  \\              /      \\\n         *       /  a||b  \\    flip    /___ar___\\\n         *     p0\\   ||   /p1   =>   p0\\---bl---/p1\n         *        \\  ||  /              \\      /\n         *       ar\\ || /br             b\\    /br\n         *          \\||/                  \\  /\n         *           pr                    pr\n         */\n\n        var a0 = a - a % 3;\n        ar = a0 + (a + 2) % 3;\n\n        if (b === -1) {\n          // convex hull edge\n          if (i === 0) break;\n          a = EDGE_STACK[--i];\n          continue;\n        }\n\n        var b0 = b - b % 3;\n        var al = a0 + (a + 1) % 3;\n        var bl = b0 + (b + 2) % 3;\n        var p0 = triangles[ar];\n        var pr = triangles[a];\n        var pl = triangles[al];\n        var p1 = triangles[bl];\n        var illegal = inCircle(coords[2 * p0], coords[2 * p0 + 1], coords[2 * pr], coords[2 * pr + 1], coords[2 * pl], coords[2 * pl + 1], coords[2 * p1], coords[2 * p1 + 1]);\n\n        if (illegal) {\n          triangles[a] = p1;\n          triangles[b] = p0;\n          var hbl = halfedges[bl]; // edge swapped on the other side of the hull (rare); fix the halfedge reference\n\n          if (hbl === -1) {\n            var e = this._hullStart;\n\n            do {\n              if (this._hullTri[e] === bl) {\n                this._hullTri[e] = a;\n                break;\n              }\n\n              e = this._hullPrev[e];\n            } while (e !== this._hullStart);\n          }\n\n          this._link(a, hbl);\n\n          this._link(b, halfedges[ar]);\n\n          this._link(ar, bl);\n\n          var br = b0 + (b + 1) % 3; // don't worry about hitting the cap: it can only happen on extremely degenerate input\n\n          if (i < EDGE_STACK.length) {\n            EDGE_STACK[i++] = br;\n          }\n        } else {\n          if (i === 0) break;\n          a = EDGE_STACK[--i];\n        }\n      }\n\n      return ar;\n    }\n  }, {\n    key: \"_link\",\n    value: function _link(a, b) {\n      this._halfedges[a] = b;\n      if (b !== -1) this._halfedges[b] = a;\n    } // add a new triangle given vertex indices and adjacent half-edge ids\n\n  }, {\n    key: \"_addTriangle\",\n    value: function _addTriangle(i0, i1, i2, a, b, c) {\n      var t = this.trianglesLen;\n      this._triangles[t] = i0;\n      this._triangles[t + 1] = i1;\n      this._triangles[t + 2] = i2;\n\n      this._link(t, a);\n\n      this._link(t + 1, b);\n\n      this._link(t + 2, c);\n\n      this.trianglesLen += 3;\n      return t;\n    }\n  }], [{\n    key: \"from\",\n    value: function from(points) {\n      var getX = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultGetX;\n      var getY = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultGetY;\n      var n = points.length;\n      var coords = new Float64Array(n * 2);\n\n      for (var i = 0; i < n; i++) {\n        var p = points[i];\n        coords[2 * i] = getX(p);\n        coords[2 * i + 1] = getY(p);\n      }\n\n      return new Delaunator(coords);\n    }\n  }]);\n\n  return Delaunator;\n}(); // monotonically increases with real angle, but doesn't need expensive trigonometry\n\n\nexport { Delaunator as default };\n\nfunction pseudoAngle(dx, dy) {\n  var p = dx / (Math.abs(dx) + Math.abs(dy));\n  return (dy > 0 ? 3 - p : 1 + p) / 4; // [0..1]\n}\n\nfunction dist(ax, ay, bx, by) {\n  var dx = ax - bx;\n  var dy = ay - by;\n  return dx * dx + dy * dy;\n}\n\nfunction inCircle(ax, ay, bx, by, cx, cy, px, py) {\n  var dx = ax - px;\n  var dy = ay - py;\n  var ex = bx - px;\n  var ey = by - py;\n  var fx = cx - px;\n  var fy = cy - py;\n  var ap = dx * dx + dy * dy;\n  var bp = ex * ex + ey * ey;\n  var cp = fx * fx + fy * fy;\n  return dx * (ey * cp - bp * fy) - dy * (ex * cp - bp * fx) + ap * (ex * fy - ey * fx) < 0;\n}\n\nfunction circumradius(ax, ay, bx, by, cx, cy) {\n  var dx = bx - ax;\n  var dy = by - ay;\n  var ex = cx - ax;\n  var ey = cy - ay;\n  var bl = dx * dx + dy * dy;\n  var cl = ex * ex + ey * ey;\n  var d = 0.5 / (dx * ey - dy * ex);\n  var x = (ey * bl - dy * cl) * d;\n  var y = (dx * cl - ex * bl) * d;\n  return x * x + y * y;\n}\n\nfunction circumcenter(ax, ay, bx, by, cx, cy) {\n  var dx = bx - ax;\n  var dy = by - ay;\n  var ex = cx - ax;\n  var ey = cy - ay;\n  var bl = dx * dx + dy * dy;\n  var cl = ex * ex + ey * ey;\n  var d = 0.5 / (dx * ey - dy * ex);\n  var x = ax + (ey * bl - dy * cl) * d;\n  var y = ay + (dx * cl - ex * bl) * d;\n  return {\n    x: x,\n    y: y\n  };\n}\n\nfunction quicksort(ids, dists, left, right) {\n  if (right - left <= 20) {\n    for (var i = left + 1; i <= right; i++) {\n      var temp = ids[i];\n      var tempDist = dists[temp];\n      var j = i - 1;\n\n      while (j >= left && dists[ids[j]] > tempDist) {\n        ids[j + 1] = ids[j--];\n      }\n\n      ids[j + 1] = temp;\n    }\n  } else {\n    var median = left + right >> 1;\n\n    var _i10 = left + 1;\n\n    var _j2 = right;\n    swap(ids, median, _i10);\n    if (dists[ids[left]] > dists[ids[right]]) swap(ids, left, right);\n    if (dists[ids[_i10]] > dists[ids[right]]) swap(ids, _i10, right);\n    if (dists[ids[left]] > dists[ids[_i10]]) swap(ids, left, _i10);\n    var _temp = ids[_i10];\n    var _tempDist = dists[_temp];\n\n    while (true) {\n      do {\n        _i10++;\n      } while (dists[ids[_i10]] < _tempDist);\n\n      do {\n        _j2--;\n      } while (dists[ids[_j2]] > _tempDist);\n\n      if (_j2 < _i10) break;\n      swap(ids, _i10, _j2);\n    }\n\n    ids[left + 1] = ids[_j2];\n    ids[_j2] = _temp;\n\n    if (right - _i10 + 1 >= _j2 - left) {\n      quicksort(ids, dists, _i10, right);\n      quicksort(ids, dists, left, _j2 - 1);\n    } else {\n      quicksort(ids, dists, left, _j2 - 1);\n      quicksort(ids, dists, _i10, right);\n    }\n  }\n}\n\nfunction swap(arr, i, j) {\n  var tmp = arr[i];\n  arr[i] = arr[j];\n  arr[j] = tmp;\n}\n\nfunction defaultGetX(p) {\n  return p[0];\n}\n\nfunction defaultGetY(p) {\n  return p[1];\n}","import _classCallCheck from \"/Users/baumzeit/Code/voronoi-shopping/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/baumzeit/Code/voronoi-shopping/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nvar epsilon = 1e-6;\n\nvar Path = /*#__PURE__*/function () {\n  function Path() {\n    _classCallCheck(this, Path);\n\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n\n    this._ = \"\";\n  }\n\n  _createClass(Path, [{\n    key: \"moveTo\",\n    value: function moveTo(x, y) {\n      this._ += \"M\".concat(this._x0 = this._x1 = +x, \",\").concat(this._y0 = this._y1 = +y);\n    }\n  }, {\n    key: \"closePath\",\n    value: function closePath() {\n      if (this._x1 !== null) {\n        this._x1 = this._x0, this._y1 = this._y0;\n        this._ += \"Z\";\n      }\n    }\n  }, {\n    key: \"lineTo\",\n    value: function lineTo(x, y) {\n      this._ += \"L\".concat(this._x1 = +x, \",\").concat(this._y1 = +y);\n    }\n  }, {\n    key: \"arc\",\n    value: function arc(x, y, r) {\n      x = +x, y = +y, r = +r;\n      var x0 = x + r;\n      var y0 = y;\n      if (r < 0) throw new Error(\"negative radius\");\n      if (this._x1 === null) this._ += \"M\".concat(x0, \",\").concat(y0);else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) this._ += \"L\" + x0 + \",\" + y0;\n      if (!r) return;\n      this._ += \"A\".concat(r, \",\").concat(r, \",0,1,1,\").concat(x - r, \",\").concat(y, \"A\").concat(r, \",\").concat(r, \",0,1,1,\").concat(this._x1 = x0, \",\").concat(this._y1 = y0);\n    }\n  }, {\n    key: \"rect\",\n    value: function rect(x, y, w, h) {\n      this._ += \"M\".concat(this._x0 = this._x1 = +x, \",\").concat(this._y0 = this._y1 = +y, \"h\").concat(+w, \"v\").concat(+h, \"h\").concat(-w, \"Z\");\n    }\n  }, {\n    key: \"value\",\n    value: function value() {\n      return this._ || null;\n    }\n  }]);\n\n  return Path;\n}();\n\nexport { Path as default };","import _classCallCheck from \"/Users/baumzeit/Code/voronoi-shopping/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/baumzeit/Code/voronoi-shopping/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n\nvar Polygon = /*#__PURE__*/function () {\n  function Polygon() {\n    _classCallCheck(this, Polygon);\n\n    this._ = [];\n  }\n\n  _createClass(Polygon, [{\n    key: \"moveTo\",\n    value: function moveTo(x, y) {\n      this._.push([x, y]);\n    }\n  }, {\n    key: \"closePath\",\n    value: function closePath() {\n      this._.push(this._[0].slice());\n    }\n  }, {\n    key: \"lineTo\",\n    value: function lineTo(x, y) {\n      this._.push([x, y]);\n    }\n  }, {\n    key: \"value\",\n    value: function value() {\n      return this._.length ? this._ : null;\n    }\n  }]);\n\n  return Polygon;\n}();\n\nexport { Polygon as default };","import _slicedToArray from \"/Users/baumzeit/Code/voronoi-shopping/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _classCallCheck from \"/Users/baumzeit/Code/voronoi-shopping/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/baumzeit/Code/voronoi-shopping/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport _regeneratorRuntime from \"/Users/baumzeit/Code/voronoi-shopping/frontend/node_modules/@babel/runtime/regenerator/index.js\";\nimport Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\n\nvar Voronoi = /*#__PURE__*/function () {\n  function Voronoi(delaunay) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [0, 0, 960, 500],\n        _ref2 = _slicedToArray(_ref, 4),\n        xmin = _ref2[0],\n        ymin = _ref2[1],\n        xmax = _ref2[2],\n        ymax = _ref2[3];\n\n    _classCallCheck(this, Voronoi);\n\n    if (!((xmax = +xmax) >= (xmin = +xmin)) || !((ymax = +ymax) >= (ymin = +ymin))) throw new Error(\"invalid bounds\");\n    this.delaunay = delaunay;\n    this._circumcenters = new Float64Array(delaunay.points.length * 2);\n    this.vectors = new Float64Array(delaunay.points.length * 2);\n    this.xmax = xmax, this.xmin = xmin;\n    this.ymax = ymax, this.ymin = ymin;\n\n    this._init();\n  }\n\n  _createClass(Voronoi, [{\n    key: \"update\",\n    value: function update() {\n      this.delaunay.update();\n\n      this._init();\n\n      return this;\n    }\n  }, {\n    key: \"_init\",\n    value: function _init() {\n      var _this$delaunay = this.delaunay,\n          points = _this$delaunay.points,\n          hull = _this$delaunay.hull,\n          triangles = _this$delaunay.triangles,\n          vectors = this.vectors; // Compute circumcenters.\n\n      var circumcenters = this.circumcenters = this._circumcenters.subarray(0, triangles.length / 3 * 2);\n\n      for (var i = 0, j = 0, n = triangles.length, x, y; i < n; i += 3, j += 2) {\n        var t1 = triangles[i] * 2;\n        var t2 = triangles[i + 1] * 2;\n        var t3 = triangles[i + 2] * 2;\n        var _x = points[t1];\n        var _y = points[t1 + 1];\n        var x2 = points[t2];\n        var y2 = points[t2 + 1];\n        var x3 = points[t3];\n        var y3 = points[t3 + 1];\n        var dx = x2 - _x;\n        var dy = y2 - _y;\n        var ex = x3 - _x;\n        var ey = y3 - _y;\n        var ab = (dx * ey - dy * ex) * 2;\n\n        if (Math.abs(ab) < 1e-9) {\n          // degenerate case (collinear diagram)\n          // almost equal points (degenerate triangle)\n          // the circumcenter is at the infinity, in a\n          // direction that is:\n          // 1. orthogonal to the halfedge.\n          var a = 1e9; // 2. points away from the center; since the list of triangles starts\n          // in the center, the first point of the first triangle\n          // will be our reference\n\n          var r = triangles[0] * 2;\n          a *= Math.sign((points[r] - _x) * ey - (points[r + 1] - _y) * ex);\n          x = (_x + x3) / 2 - a * ey;\n          y = (_y + y3) / 2 + a * ex;\n        } else {\n          var d = 1 / ab;\n          var bl = dx * dx + dy * dy;\n          var cl = ex * ex + ey * ey;\n          x = _x + (ey * bl - dy * cl) * d;\n          y = _y + (dx * cl - ex * bl) * d;\n        }\n\n        circumcenters[j] = x;\n        circumcenters[j + 1] = y;\n      } // Compute exterior cell rays.\n\n\n      var h = hull[hull.length - 1];\n      var p0,\n          p1 = h * 4;\n      var x0,\n          x1 = points[2 * h];\n      var y0,\n          y1 = points[2 * h + 1];\n      vectors.fill(0);\n\n      for (var _i = 0; _i < hull.length; ++_i) {\n        h = hull[_i];\n        p0 = p1, x0 = x1, y0 = y1;\n        p1 = h * 4, x1 = points[2 * h], y1 = points[2 * h + 1];\n        vectors[p0 + 2] = vectors[p1] = y0 - y1;\n        vectors[p0 + 3] = vectors[p1 + 1] = x1 - x0;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render(context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      var _this$delaunay2 = this.delaunay,\n          halfedges = _this$delaunay2.halfedges,\n          inedges = _this$delaunay2.inedges,\n          hull = _this$delaunay2.hull,\n          circumcenters = this.circumcenters,\n          vectors = this.vectors;\n      if (hull.length <= 1) return null;\n\n      for (var i = 0, n = halfedges.length; i < n; ++i) {\n        var j = halfedges[i];\n        if (j < i) continue;\n        var ti = Math.floor(i / 3) * 2;\n        var tj = Math.floor(j / 3) * 2;\n        var xi = circumcenters[ti];\n        var yi = circumcenters[ti + 1];\n        var xj = circumcenters[tj];\n        var yj = circumcenters[tj + 1];\n\n        this._renderSegment(xi, yi, xj, yj, context);\n      }\n\n      var h0,\n          h1 = hull[hull.length - 1];\n\n      for (var _i2 = 0; _i2 < hull.length; ++_i2) {\n        h0 = h1, h1 = hull[_i2];\n        var t = Math.floor(inedges[h1] / 3) * 2;\n        var x = circumcenters[t];\n        var y = circumcenters[t + 1];\n        var v = h0 * 4;\n\n        var p = this._project(x, y, vectors[v + 2], vectors[v + 3]);\n\n        if (p) this._renderSegment(x, y, p[0], p[1], context);\n      }\n\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"renderBounds\",\n    value: function renderBounds(context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      context.rect(this.xmin, this.ymin, this.xmax - this.xmin, this.ymax - this.ymin);\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"renderCell\",\n    value: function renderCell(i, context) {\n      var buffer = context == null ? context = new Path() : undefined;\n\n      var points = this._clip(i);\n\n      if (points === null || !points.length) return;\n      context.moveTo(points[0], points[1]);\n      var n = points.length;\n\n      while (points[0] === points[n - 2] && points[1] === points[n - 1] && n > 1) {\n        n -= 2;\n      }\n\n      for (var _i3 = 2; _i3 < n; _i3 += 2) {\n        if (points[_i3] !== points[_i3 - 2] || points[_i3 + 1] !== points[_i3 - 1]) context.lineTo(points[_i3], points[_i3 + 1]);\n      }\n\n      context.closePath();\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"cellPolygons\",\n    value: /*#__PURE__*/_regeneratorRuntime.mark(function cellPolygons() {\n      var points, i, n, cell;\n      return _regeneratorRuntime.wrap(function cellPolygons$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              points = this.delaunay.points;\n              i = 0, n = points.length / 2;\n\n            case 2:\n              if (!(i < n)) {\n                _context.next = 11;\n                break;\n              }\n\n              cell = this.cellPolygon(i);\n\n              if (!cell) {\n                _context.next = 8;\n                break;\n              }\n\n              cell.index = i;\n              _context.next = 8;\n              return cell;\n\n            case 8:\n              ++i;\n              _context.next = 2;\n              break;\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, cellPolygons, this);\n    })\n  }, {\n    key: \"cellPolygon\",\n    value: function cellPolygon(i) {\n      var polygon = new Polygon();\n      this.renderCell(i, polygon);\n      return polygon.value();\n    }\n  }, {\n    key: \"_renderSegment\",\n    value: function _renderSegment(x0, y0, x1, y1, context) {\n      var S;\n\n      var c0 = this._regioncode(x0, y0);\n\n      var c1 = this._regioncode(x1, y1);\n\n      if (c0 === 0 && c1 === 0) {\n        context.moveTo(x0, y0);\n        context.lineTo(x1, y1);\n      } else if (S = this._clipSegment(x0, y0, x1, y1, c0, c1)) {\n        context.moveTo(S[0], S[1]);\n        context.lineTo(S[2], S[3]);\n      }\n    }\n  }, {\n    key: \"contains\",\n    value: function contains(i, x, y) {\n      if ((x = +x, x !== x) || (y = +y, y !== y)) return false;\n      return this.delaunay._step(i, x, y) === i;\n    }\n  }, {\n    key: \"neighbors\",\n    value: /*#__PURE__*/_regeneratorRuntime.mark(function neighbors(i) {\n      var ci, _iterator, _step, j, cj, ai, li, aj, lj;\n\n      return _regeneratorRuntime.wrap(function neighbors$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              ci = this._clip(i);\n\n              if (!ci) {\n                _context2.next = 33;\n                break;\n              }\n\n              _iterator = _createForOfIteratorHelper(this.delaunay.neighbors(i));\n              _context2.prev = 3;\n\n              _iterator.s();\n\n            case 5:\n              if ((_step = _iterator.n()).done) {\n                _context2.next = 25;\n                break;\n              }\n\n              j = _step.value;\n              cj = this._clip(j); // find the common edge\n\n              if (!cj) {\n                _context2.next = 23;\n                break;\n              }\n\n              ai = 0, li = ci.length;\n\n            case 10:\n              if (!(ai < li)) {\n                _context2.next = 23;\n                break;\n              }\n\n              aj = 0, lj = cj.length;\n\n            case 12:\n              if (!(aj < lj)) {\n                _context2.next = 20;\n                break;\n              }\n\n              if (!(ci[ai] == cj[aj] && ci[ai + 1] == cj[aj + 1] && ci[(ai + 2) % li] == cj[(aj + lj - 2) % lj] && ci[(ai + 3) % li] == cj[(aj + lj - 1) % lj])) {\n                _context2.next = 17;\n                break;\n              }\n\n              _context2.next = 16;\n              return j;\n\n            case 16:\n              return _context2.abrupt(\"break\", 23);\n\n            case 17:\n              aj += 2;\n              _context2.next = 12;\n              break;\n\n            case 20:\n              ai += 2;\n              _context2.next = 10;\n              break;\n\n            case 23:\n              _context2.next = 5;\n              break;\n\n            case 25:\n              _context2.next = 30;\n              break;\n\n            case 27:\n              _context2.prev = 27;\n              _context2.t0 = _context2[\"catch\"](3);\n\n              _iterator.e(_context2.t0);\n\n            case 30:\n              _context2.prev = 30;\n\n              _iterator.f();\n\n              return _context2.finish(30);\n\n            case 33:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, neighbors, this, [[3, 27, 30, 33]]);\n    })\n  }, {\n    key: \"_cell\",\n    value: function _cell(i) {\n      var circumcenters = this.circumcenters,\n          _this$delaunay3 = this.delaunay,\n          inedges = _this$delaunay3.inedges,\n          halfedges = _this$delaunay3.halfedges,\n          triangles = _this$delaunay3.triangles;\n      var e0 = inedges[i];\n      if (e0 === -1) return null; // coincident point\n\n      var points = [];\n      var e = e0;\n\n      do {\n        var t = Math.floor(e / 3);\n        points.push(circumcenters[t * 2], circumcenters[t * 2 + 1]);\n        e = e % 3 === 2 ? e - 2 : e + 1;\n        if (triangles[e] !== i) break; // bad triangulation\n\n        e = halfedges[e];\n      } while (e !== e0 && e !== -1);\n\n      return points;\n    }\n  }, {\n    key: \"_clip\",\n    value: function _clip(i) {\n      // degenerate case (1 valid point: return the box)\n      if (i === 0 && this.delaunay.hull.length === 1) {\n        return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n      }\n\n      var points = this._cell(i);\n\n      if (points === null) return null;\n      var V = this.vectors;\n      var v = i * 4;\n      return V[v] || V[v + 1] ? this._clipInfinite(i, points, V[v], V[v + 1], V[v + 2], V[v + 3]) : this._clipFinite(i, points);\n    }\n  }, {\n    key: \"_clipFinite\",\n    value: function _clipFinite(i, points) {\n      var n = points.length;\n      var P = null;\n      var x0,\n          y0,\n          x1 = points[n - 2],\n          y1 = points[n - 1];\n\n      var c0,\n          c1 = this._regioncode(x1, y1);\n\n      var e0,\n          e1 = 0;\n\n      for (var j = 0; j < n; j += 2) {\n        x0 = x1, y0 = y1, x1 = points[j], y1 = points[j + 1];\n        c0 = c1, c1 = this._regioncode(x1, y1);\n\n        if (c0 === 0 && c1 === 0) {\n          e0 = e1, e1 = 0;\n          if (P) P.push(x1, y1);else P = [x1, y1];\n        } else {\n          var S = void 0,\n              sx0 = void 0,\n              sy0 = void 0,\n              sx1 = void 0,\n              sy1 = void 0;\n\n          if (c0 === 0) {\n            if ((S = this._clipSegment(x0, y0, x1, y1, c0, c1)) === null) continue;\n            var _S = S;\n\n            var _S2 = _slicedToArray(_S, 4);\n\n            sx0 = _S2[0];\n            sy0 = _S2[1];\n            sx1 = _S2[2];\n            sy1 = _S2[3];\n          } else {\n            if ((S = this._clipSegment(x1, y1, x0, y0, c1, c0)) === null) continue;\n            var _S3 = S;\n\n            var _S4 = _slicedToArray(_S3, 4);\n\n            sx1 = _S4[0];\n            sy1 = _S4[1];\n            sx0 = _S4[2];\n            sy0 = _S4[3];\n            e0 = e1, e1 = this._edgecode(sx0, sy0);\n            if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n            if (P) P.push(sx0, sy0);else P = [sx0, sy0];\n          }\n\n          e0 = e1, e1 = this._edgecode(sx1, sy1);\n          if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n          if (P) P.push(sx1, sy1);else P = [sx1, sy1];\n        }\n      }\n\n      if (P) {\n        e0 = e1, e1 = this._edgecode(P[0], P[1]);\n        if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n      } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n        return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n      }\n\n      return P;\n    }\n  }, {\n    key: \"_clipSegment\",\n    value: function _clipSegment(x0, y0, x1, y1, c0, c1) {\n      while (true) {\n        if (c0 === 0 && c1 === 0) return [x0, y0, x1, y1];\n        if (c0 & c1) return null;\n        var x = void 0,\n            y = void 0,\n            c = c0 || c1;\n        if (c & 8) x = x0 + (x1 - x0) * (this.ymax - y0) / (y1 - y0), y = this.ymax;else if (c & 4) x = x0 + (x1 - x0) * (this.ymin - y0) / (y1 - y0), y = this.ymin;else if (c & 2) y = y0 + (y1 - y0) * (this.xmax - x0) / (x1 - x0), x = this.xmax;else y = y0 + (y1 - y0) * (this.xmin - x0) / (x1 - x0), x = this.xmin;\n        if (c0) x0 = x, y0 = y, c0 = this._regioncode(x0, y0);else x1 = x, y1 = y, c1 = this._regioncode(x1, y1);\n      }\n    }\n  }, {\n    key: \"_clipInfinite\",\n    value: function _clipInfinite(i, points, vx0, vy0, vxn, vyn) {\n      var P = Array.from(points),\n          p;\n      if (p = this._project(P[0], P[1], vx0, vy0)) P.unshift(p[0], p[1]);\n      if (p = this._project(P[P.length - 2], P[P.length - 1], vxn, vyn)) P.push(p[0], p[1]);\n\n      if (P = this._clipFinite(i, P)) {\n        for (var j = 0, n = P.length, c0, c1 = this._edgecode(P[n - 2], P[n - 1]); j < n; j += 2) {\n          c0 = c1, c1 = this._edgecode(P[j], P[j + 1]);\n          if (c0 && c1) j = this._edge(i, c0, c1, P, j), n = P.length;\n        }\n      } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n        P = [this.xmin, this.ymin, this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax];\n      }\n\n      return P;\n    }\n  }, {\n    key: \"_edge\",\n    value: function _edge(i, e0, e1, P, j) {\n      while (e0 !== e1) {\n        var x = void 0,\n            y = void 0;\n\n        switch (e0) {\n          case 5:\n            e0 = 4;\n            continue;\n          // top-left\n\n          case 4:\n            e0 = 6, x = this.xmax, y = this.ymin;\n            break;\n          // top\n\n          case 6:\n            e0 = 2;\n            continue;\n          // top-right\n\n          case 2:\n            e0 = 10, x = this.xmax, y = this.ymax;\n            break;\n          // right\n\n          case 10:\n            e0 = 8;\n            continue;\n          // bottom-right\n\n          case 8:\n            e0 = 9, x = this.xmin, y = this.ymax;\n            break;\n          // bottom\n\n          case 9:\n            e0 = 1;\n            continue;\n          // bottom-left\n\n          case 1:\n            e0 = 5, x = this.xmin, y = this.ymin;\n            break;\n          // left\n        } // Note: this implicitly checks for out of bounds: if P[j] or P[j+1] are\n        // undefined, the conditional statement will be executed.\n\n\n        if ((P[j] !== x || P[j + 1] !== y) && this.contains(i, x, y)) {\n          P.splice(j, 0, x, y), j += 2;\n        }\n      }\n\n      if (P.length > 4) {\n        for (var _i4 = 0; _i4 < P.length; _i4 += 2) {\n          var _j = (_i4 + 2) % P.length,\n              k = (_i4 + 4) % P.length;\n\n          if (P[_i4] === P[_j] && P[_j] === P[k] || P[_i4 + 1] === P[_j + 1] && P[_j + 1] === P[k + 1]) P.splice(_j, 2), _i4 -= 2;\n        }\n      }\n\n      return j;\n    }\n  }, {\n    key: \"_project\",\n    value: function _project(x0, y0, vx, vy) {\n      var t = Infinity,\n          c,\n          x,\n          y;\n\n      if (vy < 0) {\n        // top\n        if (y0 <= this.ymin) return null;\n        if ((c = (this.ymin - y0) / vy) < t) y = this.ymin, x = x0 + (t = c) * vx;\n      } else if (vy > 0) {\n        // bottom\n        if (y0 >= this.ymax) return null;\n        if ((c = (this.ymax - y0) / vy) < t) y = this.ymax, x = x0 + (t = c) * vx;\n      }\n\n      if (vx > 0) {\n        // right\n        if (x0 >= this.xmax) return null;\n        if ((c = (this.xmax - x0) / vx) < t) x = this.xmax, y = y0 + (t = c) * vy;\n      } else if (vx < 0) {\n        // left\n        if (x0 <= this.xmin) return null;\n        if ((c = (this.xmin - x0) / vx) < t) x = this.xmin, y = y0 + (t = c) * vy;\n      }\n\n      return [x, y];\n    }\n  }, {\n    key: \"_edgecode\",\n    value: function _edgecode(x, y) {\n      return (x === this.xmin ? 1 : x === this.xmax ? 2 : 0) | (y === this.ymin ? 4 : y === this.ymax ? 8 : 0);\n    }\n  }, {\n    key: \"_regioncode\",\n    value: function _regioncode(x, y) {\n      return (x < this.xmin ? 1 : x > this.xmax ? 2 : 0) | (y < this.ymin ? 4 : y > this.ymax ? 8 : 0);\n    }\n  }]);\n\n  return Voronoi;\n}();\n\nexport { Voronoi as default };","import _classCallCheck from \"/Users/baumzeit/Code/voronoi-shopping/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/baumzeit/Code/voronoi-shopping/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(flatIterable);\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport _regeneratorRuntime from \"/Users/baumzeit/Code/voronoi-shopping/frontend/node_modules/@babel/runtime/regenerator/index.js\";\nimport \"core-js/modules/es.math.hypot.js\";\nimport Delaunator from \"delaunator\";\nimport Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\nimport Voronoi from \"./voronoi.js\";\nvar tau = 2 * Math.PI,\n    pow = Math.pow;\n\nfunction pointX(p) {\n  return p[0];\n}\n\nfunction pointY(p) {\n  return p[1];\n} // A triangulation is collinear if all its triangles have a non-null area\n\n\nfunction collinear(d) {\n  var triangles = d.triangles,\n      coords = d.coords;\n\n  for (var i = 0; i < triangles.length; i += 3) {\n    var a = 2 * triangles[i],\n        b = 2 * triangles[i + 1],\n        c = 2 * triangles[i + 2],\n        cross = (coords[c] - coords[a]) * (coords[b + 1] - coords[a + 1]) - (coords[b] - coords[a]) * (coords[c + 1] - coords[a + 1]);\n    if (cross > 1e-10) return false;\n  }\n\n  return true;\n}\n\nfunction jitter(x, y, r) {\n  return [x + Math.sin(x + y) * r, y + Math.cos(x - y) * r];\n}\n\nvar Delaunay = /*#__PURE__*/function () {\n  function Delaunay(points) {\n    _classCallCheck(this, Delaunay);\n\n    this._delaunator = new Delaunator(points);\n    this.inedges = new Int32Array(points.length / 2);\n    this._hullIndex = new Int32Array(points.length / 2);\n    this.points = this._delaunator.coords;\n\n    this._init();\n  }\n\n  _createClass(Delaunay, [{\n    key: \"update\",\n    value: function update() {\n      this._delaunator.update();\n\n      this._init();\n\n      return this;\n    }\n  }, {\n    key: \"_init\",\n    value: function _init() {\n      var d = this._delaunator,\n          points = this.points; // check for collinear\n\n      if (d.hull && d.hull.length > 2 && collinear(d)) {\n        this.collinear = Int32Array.from({\n          length: points.length / 2\n        }, function (_, i) {\n          return i;\n        }).sort(function (i, j) {\n          return points[2 * i] - points[2 * j] || points[2 * i + 1] - points[2 * j + 1];\n        }); // for exact neighbors\n\n        var e = this.collinear[0],\n            f = this.collinear[this.collinear.length - 1],\n            bounds = [points[2 * e], points[2 * e + 1], points[2 * f], points[2 * f + 1]],\n            r = 1e-8 * Math.hypot(bounds[3] - bounds[1], bounds[2] - bounds[0]);\n\n        for (var i = 0, n = points.length / 2; i < n; ++i) {\n          var p = jitter(points[2 * i], points[2 * i + 1], r);\n          points[2 * i] = p[0];\n          points[2 * i + 1] = p[1];\n        }\n\n        this._delaunator = new Delaunator(points);\n      } else {\n        delete this.collinear;\n      }\n\n      var halfedges = this.halfedges = this._delaunator.halfedges;\n      var hull = this.hull = this._delaunator.hull;\n      var triangles = this.triangles = this._delaunator.triangles;\n      var inedges = this.inedges.fill(-1);\n\n      var hullIndex = this._hullIndex.fill(-1); // Compute an index from each point to an (arbitrary) incoming halfedge\n      // Used to give the first neighbor of each point; for this reason,\n      // on the hull we give priority to exterior halfedges\n\n\n      for (var _e = 0, _n = halfedges.length; _e < _n; ++_e) {\n        var _p = triangles[_e % 3 === 2 ? _e - 2 : _e + 1];\n        if (halfedges[_e] === -1 || inedges[_p] === -1) inedges[_p] = _e;\n      }\n\n      for (var _i = 0, _n2 = hull.length; _i < _n2; ++_i) {\n        hullIndex[hull[_i]] = _i;\n      } // degenerate case: 1 or 2 (distinct) points\n\n\n      if (hull.length <= 2 && hull.length > 0) {\n        this.triangles = new Int32Array(3).fill(-1);\n        this.halfedges = new Int32Array(3).fill(-1);\n        this.triangles[0] = hull[0];\n        inedges[hull[0]] = 1;\n\n        if (hull.length === 2) {\n          inedges[hull[1]] = 0;\n          this.triangles[1] = hull[1];\n          this.triangles[2] = hull[1];\n        }\n      }\n    }\n  }, {\n    key: \"voronoi\",\n    value: function voronoi(bounds) {\n      return new Voronoi(this, bounds);\n    }\n  }, {\n    key: \"neighbors\",\n    value: /*#__PURE__*/_regeneratorRuntime.mark(function neighbors(i) {\n      var inedges, hull, _hullIndex, halfedges, triangles, collinear, l, e0, e, p0, p;\n\n      return _regeneratorRuntime.wrap(function neighbors$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              inedges = this.inedges, hull = this.hull, _hullIndex = this._hullIndex, halfedges = this.halfedges, triangles = this.triangles, collinear = this.collinear; // degenerate case with several collinear points\n\n              if (!collinear) {\n                _context.next = 10;\n                break;\n              }\n\n              l = collinear.indexOf(i);\n\n              if (!(l > 0)) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 6;\n              return collinear[l - 1];\n\n            case 6:\n              if (!(l < collinear.length - 1)) {\n                _context.next = 9;\n                break;\n              }\n\n              _context.next = 9;\n              return collinear[l + 1];\n\n            case 9:\n              return _context.abrupt(\"return\");\n\n            case 10:\n              e0 = inedges[i];\n\n              if (!(e0 === -1)) {\n                _context.next = 13;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 13:\n              // coincident point\n              e = e0, p0 = -1;\n\n            case 14:\n              _context.next = 16;\n              return p0 = triangles[e];\n\n            case 16:\n              e = e % 3 === 2 ? e - 2 : e + 1;\n\n              if (!(triangles[e] !== i)) {\n                _context.next = 19;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 19:\n              // bad triangulation\n              e = halfedges[e];\n\n              if (!(e === -1)) {\n                _context.next = 26;\n                break;\n              }\n\n              p = hull[(_hullIndex[i] + 1) % hull.length];\n\n              if (!(p !== p0)) {\n                _context.next = 25;\n                break;\n              }\n\n              _context.next = 25;\n              return p;\n\n            case 25:\n              return _context.abrupt(\"return\");\n\n            case 26:\n              if (e !== e0) {\n                _context.next = 14;\n                break;\n              }\n\n            case 27:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, neighbors, this);\n    })\n  }, {\n    key: \"find\",\n    value: function find(x, y) {\n      var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      if ((x = +x, x !== x) || (y = +y, y !== y)) return -1;\n      var i0 = i;\n      var c;\n\n      while ((c = this._step(i, x, y)) >= 0 && c !== i && c !== i0) {\n        i = c;\n      }\n\n      return c;\n    }\n  }, {\n    key: \"_step\",\n    value: function _step(i, x, y) {\n      var inedges = this.inedges,\n          hull = this.hull,\n          _hullIndex = this._hullIndex,\n          halfedges = this.halfedges,\n          triangles = this.triangles,\n          points = this.points;\n      if (inedges[i] === -1 || !points.length) return (i + 1) % (points.length >> 1);\n      var c = i;\n      var dc = pow(x - points[i * 2], 2) + pow(y - points[i * 2 + 1], 2);\n      var e0 = inedges[i];\n      var e = e0;\n\n      do {\n        var t = triangles[e];\n        var dt = pow(x - points[t * 2], 2) + pow(y - points[t * 2 + 1], 2);\n        if (dt < dc) dc = dt, c = t;\n        e = e % 3 === 2 ? e - 2 : e + 1;\n        if (triangles[e] !== i) break; // bad triangulation\n\n        e = halfedges[e];\n\n        if (e === -1) {\n          e = hull[(_hullIndex[i] + 1) % hull.length];\n\n          if (e !== t) {\n            if (pow(x - points[e * 2], 2) + pow(y - points[e * 2 + 1], 2) < dc) return e;\n          }\n\n          break;\n        }\n      } while (e !== e0);\n\n      return c;\n    }\n  }, {\n    key: \"render\",\n    value: function render(context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      var points = this.points,\n          halfedges = this.halfedges,\n          triangles = this.triangles;\n\n      for (var i = 0, n = halfedges.length; i < n; ++i) {\n        var j = halfedges[i];\n        if (j < i) continue;\n        var ti = triangles[i] * 2;\n        var tj = triangles[j] * 2;\n        context.moveTo(points[ti], points[ti + 1]);\n        context.lineTo(points[tj], points[tj + 1]);\n      }\n\n      this.renderHull(context);\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"renderPoints\",\n    value: function renderPoints(context, r) {\n      if (r === undefined && (!context || typeof context.moveTo !== \"function\")) r = context, context = null;\n      r = r == undefined ? 2 : +r;\n      var buffer = context == null ? context = new Path() : undefined;\n      var points = this.points;\n\n      for (var i = 0, n = points.length; i < n; i += 2) {\n        var x = points[i],\n            y = points[i + 1];\n        context.moveTo(x + r, y);\n        context.arc(x, y, r, 0, tau);\n      }\n\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"renderHull\",\n    value: function renderHull(context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      var hull = this.hull,\n          points = this.points;\n      var h = hull[0] * 2,\n          n = hull.length;\n      context.moveTo(points[h], points[h + 1]);\n\n      for (var i = 1; i < n; ++i) {\n        var _h = 2 * hull[i];\n\n        context.lineTo(points[_h], points[_h + 1]);\n      }\n\n      context.closePath();\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"hullPolygon\",\n    value: function hullPolygon() {\n      var polygon = new Polygon();\n      this.renderHull(polygon);\n      return polygon.value();\n    }\n  }, {\n    key: \"renderTriangle\",\n    value: function renderTriangle(i, context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      var points = this.points,\n          triangles = this.triangles;\n      var t0 = triangles[i *= 3] * 2;\n      var t1 = triangles[i + 1] * 2;\n      var t2 = triangles[i + 2] * 2;\n      context.moveTo(points[t0], points[t0 + 1]);\n      context.lineTo(points[t1], points[t1 + 1]);\n      context.lineTo(points[t2], points[t2 + 1]);\n      context.closePath();\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"trianglePolygons\",\n    value: /*#__PURE__*/_regeneratorRuntime.mark(function trianglePolygons() {\n      var triangles, i, n;\n      return _regeneratorRuntime.wrap(function trianglePolygons$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              triangles = this.triangles;\n              i = 0, n = triangles.length / 3;\n\n            case 2:\n              if (!(i < n)) {\n                _context2.next = 8;\n                break;\n              }\n\n              _context2.next = 5;\n              return this.trianglePolygon(i);\n\n            case 5:\n              ++i;\n              _context2.next = 2;\n              break;\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, trianglePolygons, this);\n    })\n  }, {\n    key: \"trianglePolygon\",\n    value: function trianglePolygon(i) {\n      var polygon = new Polygon();\n      this.renderTriangle(i, polygon);\n      return polygon.value();\n    }\n  }], [{\n    key: \"from\",\n    value: function from(points) {\n      var fx = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : pointX;\n      var fy = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : pointY;\n      var that = arguments.length > 3 ? arguments[3] : undefined;\n      return new Delaunay(\"length\" in points ? flatArray(points, fx, fy, that) : Float64Array.from(flatIterable(points, fx, fy, that)));\n    }\n  }]);\n\n  return Delaunay;\n}();\n\nexport { Delaunay as default };\n\nfunction flatArray(points, fx, fy, that) {\n  var n = points.length;\n  var array = new Float64Array(n * 2);\n\n  for (var i = 0; i < n; ++i) {\n    var p = points[i];\n    array[i * 2] = fx.call(that, p, i, points);\n    array[i * 2 + 1] = fy.call(that, p, i, points);\n  }\n\n  return array;\n}\n\nfunction flatIterable(points, fx, fy, that) {\n  var i, _iterator, _step2, p;\n\n  return _regeneratorRuntime.wrap(function flatIterable$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          i = 0;\n          _iterator = _createForOfIteratorHelper(points);\n          _context3.prev = 2;\n\n          _iterator.s();\n\n        case 4:\n          if ((_step2 = _iterator.n()).done) {\n            _context3.next = 13;\n            break;\n          }\n\n          p = _step2.value;\n          _context3.next = 8;\n          return fx.call(that, p, i, points);\n\n        case 8:\n          _context3.next = 10;\n          return fy.call(that, p, i, points);\n\n        case 10:\n          ++i;\n\n        case 11:\n          _context3.next = 4;\n          break;\n\n        case 13:\n          _context3.next = 18;\n          break;\n\n        case 15:\n          _context3.prev = 15;\n          _context3.t0 = _context3[\"catch\"](2);\n\n          _iterator.e(_context3.t0);\n\n        case 18:\n          _context3.prev = 18;\n\n          _iterator.f();\n\n          return _context3.finish(18);\n\n        case 21:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked, null, [[2, 15, 18, 21]]);\n}","import { Delaunay } from 'd3-delaunay'\nimport { useMemo } from 'react'\n\nconst padding = { top: 0, left: 1.5 * 16, right: 1.5 * 16, bottom: 1.5 * 16 }\nconst cellGap = 22\n\nexport type Point = {\n  x: number\n  y: number\n}\nexport type PointWithPath = Point & {\n  path: string\n}\n\ntype UseVoronoiModelProps<T> = {\n  width: number\n  height: number\n  data: T[]\n}\nexport const useVoronoiModel = <T extends Point = Point>({ width, height, data }: UseVoronoiModelProps<T>) => {\n  const delaunay = useMemo(() => {\n    return Delaunay.from(\n      data,\n      (d) => d.x,\n      (d) => d.y\n    )\n  }, [data])\n\n  const voronoi = useMemo(() => {\n    const bounds: [number, number, number, number] = [\n      Number(padding.left) - cellGap / 2,\n      Number(padding.top) - cellGap / 2,\n      width - cellGap / 2,\n      height - cellGap / 2\n    ]\n    return delaunay.voronoi(bounds)\n  }, [delaunay, height, width])\n\n  const enrichedData: (T & PointWithPath)[] = useMemo(\n    () =>\n      data.map((d, idx) => ({\n        ...d,\n        path: voronoi.renderCell(idx)\n      })),\n    [data, voronoi]\n  )\n\n  return { delaunay, voronoi, enrichedData }\n}\n","import * as d3 from 'd3-selection'\nimport { Link } from 'gatsby'\nimport React, { memo, SVGProps, useCallback, useEffect, useMemo, useRef, useState } from 'react'\n\nimport './voronoi.scss'\nimport { PATH } from '../../../common/constants/paths'\nimport { VoronoiChartDatum } from '../../projects/use-projects-chart-data'\nimport { drawVoronoi } from './helpers/draw-voronoi'\nimport { highlightCellsByAreaId, hoverCell, restore, VoronoiOptions } from './helpers/voronoi-actions'\nimport { useVoronoiModel } from './use-voronoi-model'\n\ntype HighlightPatternDatum = { color?: string | null; id: string | number }\n\nexport type VoronoiChartProps = {\n  data: VoronoiChartDatum[]\n  highlightPatternData: HighlightPatternDatum[]\n  width: number\n  height: number\n  imageSize: number\n  onClickCell: (slug: string) => void\n  highlightedAreaId?: string | null\n}\n\nexport const VoronoiChart = memo(\n  ({\n    data,\n    highlightPatternData,\n    width,\n    height,\n    imageSize,\n    highlightedAreaId = null,\n    onClickCell\n  }: VoronoiChartProps) => {\n    const [svgNode, setSvgNode] = useState<SVGSVGElement | null>(null)\n    const [initialized, setInitialized] = useState(false)\n    const [hoveredCell, setHoveredCell] = useState('')\n\n    const onRefChange = useCallback((node: SVGSVGElement | null) => {\n      setSvgNode(node)\n    }, [])\n\n    const spanRef = useRef<HTMLAnchorElement>(null)\n\n    const { voronoi, enrichedData } = useVoronoiModel({ data, width, height })\n\n    const voronoiOptions = useMemo<VoronoiOptions | undefined>(() => {\n      return {\n        width,\n        height,\n        imageSize\n      }\n    }, [height, imageSize, width])\n\n    useEffect(() => {\n      if (svgNode && voronoiOptions) {\n        const svg = d3\n          .select(svgNode)\n          .attr('id', 'voronoi-projects')\n          .attr('fill', 'none')\n          .attr('stroke-linejoin', 'round')\n          .attr('stroke-linecap', 'round')\n\n        drawVoronoi({\n          svg,\n          voronoi,\n          data: enrichedData,\n          options: voronoiOptions,\n          onClick: onClickCell,\n          onHover: (slug) => {\n            if (spanRef.current) {\n              setHoveredCell(slug)\n              const mouseOverEvent = new MouseEvent('mouseover', { bubbles: true })\n              spanRef.current?.dispatchEvent(mouseOverEvent)\n            }\n            hoverCell(svgNode)(slug)\n          },\n          onMouseLeave: restore(svgNode)\n        })\n        setInitialized(true)\n      }\n    }, [enrichedData, initialized, onClickCell, svgNode, voronoi, voronoiOptions])\n\n    useEffect(() => {\n      if (initialized && svgNode) {\n        highlightCellsByAreaId(svgNode)(highlightedAreaId)\n      }\n    }, [highlightedAreaId, initialized, svgNode])\n\n    return (\n      <>\n        {hoveredCell && (\n          <Link\n            ref={spanRef as any}\n            key={hoveredCell}\n            to={`${PATH.PRODUCT}/${hoveredCell}`}\n            style={{ display: 'none' }}\n          />\n        )}\n\n        <svg ref={onRefChange} width={width} height={height} className=\"cursor-pointer voronoi animate-fadeIn\">\n          <defs>\n            <HatchPattern id=\"diagonalHatch\" className=\"stroke-bg-secondary\" />\n            {highlightPatternData.map(({ color, id }) => (\n              <HatchPattern key={id} stroke={color || 'black'} id={'diagonalHatchHighlight-' + id} />\n            ))}\n          </defs>\n        </svg>\n      </>\n    )\n  }\n)\n\nconst HatchPattern = ({ id, ...rest }: Pick<HighlightPatternDatum, 'id'> & SVGProps<SVGPathElement>) => {\n  return (\n    <pattern key={id} id={String(id)} patternUnits=\"userSpaceOnUse\" width=\"4\" height=\"4\">\n      <path\n        d=\"M-1,1 l2,-2\n          M0,4 l4,-4\n          M3,5 l2,-2\"\n        strokeWidth=\"1\"\n        opacity={0.8}\n        {...rest}\n      />\n    </pattern>\n  )\n}\n","import { navigate } from 'gatsby'\nimport React from 'react'\n\nimport { PATH } from '../../../common/constants/paths'\nimport { UseJitterGridReturn } from '../../../common/hooks/use-jitter-grid'\nimport { useHighlightArea } from '../../project/use-highlight-area'\nimport { useProjectsChartData } from '../../projects/use-projects-chart-data'\nimport { VoronoiChart } from './VoronoiChart'\n\ntype VoronoiContainerProps = {\n  projects: Queries.ProductBaseFragment[]\n  areas: Queries.CategoryBaseFragment[]\n} & Required<UseJitterGridReturn>\n\nexport const VoronoiContainer = ({\n  gridSpecs: { width, height, numCols, numRows },\n  projects,\n  areas,\n  getGridCoordinates\n}: VoronoiContainerProps) => {\n  const [highlightArea] = useHighlightArea()\n\n  const chartData = useProjectsChartData({ projects, getGridCoordinates })\n  return (\n    <>\n      <div id=\"voronoiContainer\" className=\"overflow-x-hidden\">\n        <VoronoiChart\n          data={chartData}\n          width={width}\n          height={height}\n          onClickCell={(slug) => navigate(`${PATH.PRODUCT}/${slug}`)}\n          imageSize={Math.max(width / numCols, height / numRows) * 1.4}\n          highlightPatternData={areas}\n          highlightedAreaId={highlightArea?.id}\n        />\n      </div>\n    </>\n  )\n}\n","import { getSrc, getSrcSet } from 'gatsby-plugin-image'\nimport { useMemo } from 'react'\n\nimport { GridCoordinate } from '../../common/hooks/use-jitter-grid'\nimport { getStrapiImage } from '../../common/utility/get-image'\nimport notEmpty from '../../common/utility/not-empty'\nimport { Point } from '../viz/Voronoi/use-voronoi-model'\n\nexport type VoronoiChartDatum = Point & {\n  imgSrc: string | undefined\n  id: string\n  title: string\n  price: string\n  slug: string\n  areas: {\n    color: string\n    name: string\n    id: string\n  }[]\n  index: number\n}\n\ntype UseProjectsChartDataProps = {\n  projects: Queries.ProductBaseFragment[]\n  getGridCoordinates: (idx: number) => GridCoordinate\n}\nexport const useProjectsChartData = ({\n  projects,\n  getGridCoordinates\n}: UseProjectsChartDataProps): VoronoiChartDatum[] =>\n  useMemo(\n    () =>\n      getGridCoordinates\n        ? projects.map(({ imagesSmall, id, categories, name, slug, price }, idx) => {\n            const coverImage = imagesSmall?.[0]\n            const imageData = coverImage ? getStrapiImage(coverImage) : undefined\n            return {\n              x: getGridCoordinates(idx)[0],\n              y: getGridCoordinates(idx)[1],\n              imgSrc: imageData ? getSrc(imageData) : '',\n              id: id,\n              index: idx,\n              title: String(name),\n              price: `${price} €`,\n              slug: String(slug),\n              areas:\n                categories?.filter(notEmpty).map((d) => ({\n                  color: String(d.color),\n                  name: String(d.name),\n                  id: d.id\n                })) || []\n            }\n          })\n        : [],\n    [getGridCoordinates, projects]\n  )\n","import { useWindowSize } from '@react-hook/window-size'\nimport React from 'react'\n\nimport { NAVBAR_HEIGHT } from '../../common/components/Navbar'\nimport { useJitterGrid } from '../../common/hooks/use-jitter-grid'\nimport { ProductsAndCategories } from '../../pages'\nimport { VoronoiContainer } from '../viz/Voronoi/VoronoiContainer'\n\nconst relMargin = { top: 0.18, right: 0.14, bottom: 0.16, left: 0.14 }\n\nconst ProjectsMap = ({ projects, areas }: ProductsAndCategories) => {\n  const [width, windowHeight] = useWindowSize({ wait: 300 })\n\n  const { getGridCoordinates, gridSpecs } = useJitterGrid({\n    minItems: projects.length,\n    width,\n    minHeight: windowHeight - NAVBAR_HEIGHT,\n    relMargin,\n    minTilePixels: 55000,\n    colJitter: 0.05\n  })\n\n  return gridSpecs && getGridCoordinates ? (\n    <VoronoiContainer projects={projects} areas={areas} gridSpecs={gridSpecs} getGridCoordinates={getGridCoordinates} />\n  ) : null\n}\n\nexport default ProjectsMap\n"],"names":["uncurryThis","toObject","floor","Math","charAt","replace","stringSlice","slice","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","module","exports","matched","str","position","captures","namedCaptures","replacement","tailPos","length","m","symbols","undefined","match","ch","capture","n","f","$","flattenIntoArray","lengthOfArrayLike","toIntegerOrInfinity","arraySpeciesCreate","target","proto","flat","depthArg","arguments","O","this","sourceLen","A","addToUnscopables","$hypot","hypot","abs","sqrt","stat","arity","forced","Infinity","NaN","value1","value2","arg","div","sum","i","aLen","larg","call","requireObjectCoercible","isCallable","isRegExp","toString","getMethod","getRegExpFlags","getSubstitution","wellKnownSymbol","IS_PURE","REPLACE","$TypeError","TypeError","indexOf","max","stringIndexOf","string","searchValue","fromIndex","replaceAll","replaceValue","IS_REG_EXP","flags","replacer","searchString","functionalReplace","searchLength","advanceBy","endOfLastMatch","result","PATH","HOME","PRODUCT","PROJECTS","getStrapiImage","queryImage","localFile","_queryImage$localFile","childImageSharp","_queryImage$localFile2","gatsbyImageData","current","storedValue","useDebounceCallback","callback","wait","leading","storedCallback","timeout","deps","_ref","clearTimeout","_ref2","args","setTimeout","apply","useDebounce","initialState","state","type","listener","cleanup","storedListener","storedCleanup","targetEl","didUnsubscribe","addEventListener","removeEventListener","_len","Array","_key","emptyObj","win","window","getSize","document","documentElement","clientWidth","clientHeight","useWindowSize","options","_options$initialWidth","initialWidth","_options$initialHeigh","initialHeight","_useDebounce","_useDebounce2","size","setDebouncedSize","setSize","sourceRandomNormal","source","randomNormal","mu","sigma","x","r","y","log","useJitterGrid","minItems","width","minHeight","relMargin","minTilePixels","colJitter","gridData","useMemo","height","defaultSize","aspect","min","aspectFactor","virtualColumns","virtualRows","safeRows","ceil","safeColumns","refCols","refRows","marginTop","top","marginBottom","bottom","marginRight","right","marginLeft","left","getNoise","unitSize","jitter","numOrphans","adoptedOrphans","getRowJitter","idx","rowSpecs","rows","rowHeight","positions","from","_","interval","gridPositions","map","rowIdx","items","colWidth","colDiff","offset","adjustedColWidth","adoptionRowIdx","isLastRow","colSpecs","colPos","colSize","rowPos","getCoordinates","grid","numCols","numRows","err","console","error","getGridCoordinates","useCallback","gridSpecs","none","selector","querySelector","array","isArray","empty","childMatcher","node","matches","find","prototype","childFirst","firstElementChild","filter","children","update","EnterNode","parent","datum","ownerDocument","namespaceURI","_next","_parent","__data__","bindIndex","group","enter","exit","data","groupLength","dataLength","bindKey","key","keyValue","nodeByKeyValue","Map","keyValues","has","set","get","delete","arraylike","ascending","a","b","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","minLen","_arrayLikeToArray","Object","constructor","name","test","_unsupportedIterableToArray","F","s","done","value","e","_e","normalCompletion","didErr","step","next","_e2","return","arr","len","arr2","appendChild","child","insertBefore","querySelectorAll","xhtml","svg","xlink","xml","xmlns","prefix","namespaces","hasOwnProperty","space","local","attrRemove","removeAttribute","attrRemoveNS","fullname","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","v","attrFunctionNS","defaultView","styleRemove","style","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","trim","split","classList","ClassList","_node","_names","getAttribute","classedAdd","names","list","add","classedRemove","remove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","parentNode","lower","previousSibling","firstChild","creatorInherit","uri","createElement","createElementNS","creatorFixed","namespace","constantNull","removeChild","selection_cloneShallow","clone","cloneNode","selection_cloneDeep","parseTypenames","typenames","t","onRemove","typename","on","__on","j","onAdd","event","contextListener","push","dispatchEvent","params","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","join","splice","contains","_marked","_callee","groups","_context","prev","_groups","stop","root","Selection","parents","_parents","selection","select","subgroups","subnode","subgroup","selectAll","arrayAll","selectorAll","selectChild","childFind","selectChildren","childrenFilter","matcher","bind","constant","enterGroup","updateGroup","exitGroup","previous","i0","i1","_enter","_exit","sparse","onenter","onupdate","onexit","append","merge","order","context","groups0","groups1","m0","m1","merges","group0","group1","compareDocumentPosition","sort","compare","compareNode","sortgroups","sortgroup","nodes","_step","_iterator","each","attr","getAttributeNS","property","classed","text","html","create","creator","insert","before","deep","dispatch","adjustLabelBox","d","cell","cellSelection","_cellSelection$select","boxId","index","box","getBBox","boxStart","boxWidth","paddingX","boxHeight","paddingY","LABEL_OFFSET_Y","updateCell","imageSize","base","path","annotation","titleSpace","title","price","adjustLabel","drawVoronoi","opts","voronoi","onHover","onClick","onMouseLeave","String","id","defG","sel","imgSrc","drawCell","drawContentLayer","renderBounds","code","activeElement","activeElementSlug","_activeElement$datum","slug","stopPropagation","isExposed","restore","svgNode","d3","elen","flen","h","Q","Qnew","hh","bvirt","enow","fnow","eindex","findex","hindex","vec","Float64Array","B","C1","C2","D","u","orient2d","ax","ay","bx","by","cx","cy","detleft","detright","det","detsum","acxtail","acytail","bcxtail","bcytail","c","ahi","alo","bhi","blo","_i","_j","_0","s1","s0","t1","t0","u3","acx","bcx","acy","bcy","errbound","C1len","C2len","Dlen","orient2dadapt","EPSILON","pow","EDGE_STACK","Uint32Array","Delaunator","coords","Error","maxTriangles","_triangles","_halfedges","Int32Array","_hashSize","_hullPrev","_hullNext","_hullTri","_hullHash","fill","_ids","_dists","hullPrev","hullNext","hullTri","hullHash","minX","minY","maxX","maxY","i2","minDist","dist","i0x","i0y","_i2","_d","i1x","i1y","minRadius","_i3","circumradius","i2x","i2y","_i4","quicksort","hull","_i5","d0","subarray","triangles","halfedges","_i6","_x","_y","center","dx","dy","ex","ey","bl","cl","circumcenter","_cx","_cy","_i7","_hullStart","hullSize","_hashKey","trianglesLen","_addTriangle","xp","yp","k","_i8","_x2","_y2","start","q","_legalize","_n","_i9","p","px","py","fx","fy","bp","cp","ar","a0","b0","al","p0","pr","pl","p1","ap","hbl","_link","br","points","getX","defaultGetX","getY","defaultGetY","ids","dists","temp","tempDist","_i10","_j2","swap","_temp","_tempDist","tmp","Path","_x0","_y0","_x1","_y1","concat","x0","y0","w","Polygon","Voronoi","delaunay","xmin","ymin","xmax","ymax","_circumcenters","vectors","_init","_this$delaunay","circumcenters","t2","t3","x2","y2","x3","y3","ab","sign","x1","y1","buffer","_this$delaunay2","inedges","ti","tj","xi","yi","xj","yj","_renderSegment","h0","h1","_project","rect","_clip","moveTo","lineTo","closePath","cellPolygons","cellPolygon","polygon","renderCell","S","c0","_regioncode","c1","_clipSegment","neighbors","ci","cj","ai","li","aj","lj","_context2","abrupt","finish","_this$delaunay3","e0","_cell","V","_clipInfinite","_clipFinite","P","e1","sx0","sy0","sx1","sy1","_S","_S2","_S3","_S4","_edgecode","_edge","vx0","vy0","vxn","vyn","unshift","vx","vy","flatIterable","_e3","tau","PI","pointX","pointY","sin","cos","Delaunay","_delaunator","_hullIndex","collinear","bounds","hullIndex","_p","_n2","l","dc","dt","renderHull","arc","_h","trianglePolygons","trianglePolygon","renderTriangle","that","flatArray","_step2","_context3","padding","VoronoiChart","memo","highlightPatternData","highlightedAreaId","onClickCell","useState","setSvgNode","initialized","setInitialized","hoveredCell","setHoveredCell","onRefChange","spanRef","useRef","Number","cellGap","enrichedData","useVoronoiModel","voronoiOptions","useEffect","mouseOverEvent","MouseEvent","hoveredSlug","hoverCell","highlightId","cellG","highlightPath","shouldHighlight","Boolean","areas","area","highlightCellsByAreaId","React","Link","ref","to","display","className","HatchPattern","color","stroke","rest","patternUnits","strokeWidth","opacity","VoronoiContainer","projects","highlightArea","useHighlightArea","chartData","imagesSmall","categories","coverImage","imageData","getSrc","notEmpty","useProjectsChartData","navigate","windowHeight","NAVBAR_HEIGHT"],"sourceRoot":""}